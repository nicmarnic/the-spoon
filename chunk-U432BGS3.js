import{A as d,Aa as ne,B as t,C as o,D as m,G as x,H as u,I as c,Ia as oe,Ka as ie,L as b,La as re,M as Y,N as a,Na as ae,O as h,Oa as D,P as f,Pa as le,Q as M,Qa as se,R as A,Ra as ce,S as F,T as L,Ta as de,U as X,Ua as me,V as W,Va as pe,Wa as ge,X as y,Y as k,Z as G,a as N,aa as q,b as j,c as $,ca as S,da as E,fa as Z,ha as K,ia as I,l as p,m as g,pa as Q,r as z,ra as J,s as H,t as r,v as C,w as O,wa as ee,x as v,xa as te,y as B,z as V}from"./chunk-GYMHH2WG.js";var U=$(re());var be=()=>[1,2,3,4,5,6,7,8];function Ce(i,n){if(i&1){let e=x();t(0,"button",19),u("click",function(){p(e);let s=c();return g(s.goToPreviousStep())}),m(1,"i",20),o()}}function Me(i,n){if(i&1&&(t(0,"span",35),a(1),o()),i&2){let e=c(2).$implicit,l=c(2);r(),h(l.getDateDiscount(e))}}function we(i,n){if(i&1&&(t(0,"div",32)(1,"span",33),a(2),o(),v(3,Me,2,1,"span",34),o()),i&2){let e=c().$implicit,l=c(2);r(2),h(e.getDate()),r(),d("ngIf",l.isDateAvailable(e))}}function ye(i,n){if(i&1){let e=x();t(0,"div",30),u("click",function(){let s=p(e).$implicit,_=c(2);return g(s&&_.selectDate(s))}),v(1,we,4,2,"div",31),o()}if(i&2){let e=n.$implicit,l=c(2);b("available",e&&l.isDateAvailable(e))("unavailable",e&&!l.isDateAvailable(e))("selected",e&&l.bookingData.date&&e.getTime()===l.bookingData.date.getTime()),r(),d("ngIf",e)}}function Pe(i,n){if(i&1){let e=x();t(0,"div",21)(1,"div",22)(2,"button",23),u("click",function(){p(e);let s=c();return g(s.previousMonth())}),m(3,"i",24),o(),t(4,"h4"),a(5),o(),t(6,"button",23),u("click",function(){p(e);let s=c();return g(s.nextMonth())}),m(7,"i",25),o()(),t(8,"div",26)(9,"div",27),a(10,"Lun"),o(),t(11,"div",27),a(12,"Mar"),o(),t(13,"div",27),a(14,"Mer"),o(),t(15,"div",27),a(16,"Gio"),o(),t(17,"div",27),a(18,"Ven"),o(),t(19,"div",27),a(20,"Sab"),o(),t(21,"div",27),a(22,"Dom"),o()(),t(23,"div",28),v(24,ye,2,7,"div",29),o()()}if(i&2){let e=c();r(5),h(e.getMonthName()),r(19),d("ngForOf",e.getDaysInMonth())}}function Oe(i,n){if(i&1){let e=x();t(0,"button",43),u("click",function(){let s=p(e).$implicit,_=c(2);return g(_.selectTime(s))}),t(1,"span"),a(2),o(),t(3,"small"),a(4),o()()}if(i&2){let e=n.$implicit,l=c(2);b("selected",l.bookingData.time===e),r(2),h(e),r(2),h(l.bookingData.discount)}}function ke(i,n){if(i&1){let e=x();t(0,"button",43),u("click",function(){let s=p(e).$implicit,_=c(2);return g(_.selectTime(s))}),t(1,"span"),a(2),o(),t(3,"small"),a(4),o()()}if(i&2){let e=n.$implicit,l=c(2);b("selected",l.bookingData.time===e),r(2),h(e),r(2),h(l.bookingData.discount)}}function Se(i,n){if(i&1&&(t(0,"div",36)(1,"div",37),m(2,"i",38),t(3,"span",39),a(4),o()(),t(5,"div",40)(6,"h4"),a(7,"PRANZO"),o(),t(8,"div",41),v(9,Oe,5,4,"button",42),o()(),t(10,"div",40)(11,"h4"),a(12,"CENA"),o(),t(13,"div",41),v(14,ke,5,4,"button",42),o()()()),i&2){let e=c();r(4),h(e.formatFullDate(e.bookingData.date)),r(5),d("ngForOf",e.lunchTimes),r(5),d("ngForOf",e.dinnerTimes)}}function Ee(i,n){if(i&1){let e=x();t(0,"button",50),u("click",function(){let s=p(e).$implicit,_=c(2);return g(_.selectPeople(s))}),t(1,"span",51),a(2),o(),t(3,"small"),a(4),o()()}if(i&2){let e=n.$implicit,l=c(2);b("selected",l.bookingData.people===e),r(2),h(e),r(2),h(l.bookingData.discount)}}function Ie(i,n){if(i&1&&(t(0,"div",44)(1,"div",37),m(2,"i",38),t(3,"span"),a(4),o(),m(5,"i",11),t(6,"span"),a(7),o()(),t(8,"div",45),v(9,Ee,5,4,"button",46),o(),t(10,"div",47)(11,"button",48),m(12,"i",49),a(13," Pi\xF9 di 8 persone "),o()()()),i&2){let e=c();r(4),h(e.formatDate(e.bookingData.date)),r(3),h(e.bookingData.time),r(2),d("ngForOf",W(3,be))}}function De(i,n){i&1&&(t(0,"div",81),m(1,"i",82),t(2,"strong"),a(3,"Telefono obbligatorio:"),o(),a(4," Inserisci il numero di telefono per completare la prenotazione. "),o())}function Re(i,n){if(i&1&&(t(0,"div",83),m(1,"i",84),a(2),o()),i&2){let e=c(2);r(2),f(" ",e.submissionError," ")}}function Te(i,n){i&1&&(t(0,"div",81),m(1,"i",85),a(2," Devi essere loggato per effettuare una prenotazione "),o())}function ze(i,n){i&1&&(t(0,"span",86)(1,"span",87),a(2,"Loading..."),o()())}function Be(i,n){i&1&&(t(0,"span"),a(1,"CONFERMA LA PRENOTAZIONE"),o())}function Ve(i,n){i&1&&(t(0,"span"),a(1,"INSERISCI TELEFONO PER PRENOTARE"),o())}function Ae(i,n){i&1&&(t(0,"span"),a(1,"CREAZIONE PRENOTAZIONE..."),o())}function Fe(i,n){if(i&1){let e=x();t(0,"div",52)(1,"div",53)(2,"div",54),m(3,"i",10),t(4,"span"),a(5),o()(),t(6,"div",54),m(7,"i",11),t(8,"span"),a(9),o()(),t(10,"div",54),m(11,"i",12),t(12,"span"),a(13),o()(),t(14,"div",54),m(15,"i",55),t(16,"span"),a(17),o()()(),t(18,"div",56)(19,"h4"),a(20,"COMPLETA LA PRENOTAZIONE"),o(),t(21,"div",57)(22,"h5"),a(23,"20% di sconto sulle voci del men\xF9 \xE0 la carte"),o(),t(24,"p"),a(25," Esclusi men\xF9 fissi e bevande. Promozione soggetta all'arrivo all'orario prenotato. "),o(),t(26,"span",58),a(27,"20% di sconto"),o()()(),t(28,"div",59)(29,"div",60),m(30,"i",61),o(),t(31,"div",39)(32,"h6",62),a(33),o(),t(34,"small",63),a(35),o()()(),t(36,"div",64)(37,"div",65)(38,"span",66),m(39,"i",67),o(),t(40,"input",68),L("ngModelChange",function(s){p(e);let _=c();return F(_.bookingData.customerPhone,s)||(_.bookingData.customerPhone=s),g(s)}),o()(),t(41,"small",63),a(42,"Numero di telefono per la prenotazione"),o()(),v(43,De,5,0,"div",69),t(44,"div",64)(45,"div",65)(46,"span",66),m(47,"i",70),o(),t(48,"input",71),L("ngModelChange",function(s){p(e);let _=c();return F(_.bookingData.notes,s)||(_.bookingData.notes=s),g(s)}),o()(),t(49,"small",63),a(50,"Messaggio per il ristorante"),o()(),v(51,Re,3,1,"div",72)(52,Te,3,0,"div",69),t(53,"div",64)(54,"h6",73),a(55,"Programma fedelt\xE0 e vantaggi"),o(),t(56,"div",74)(57,"small",75),a(58,"Conferma immediata"),o(),t(59,"small",75),a(60,"Senza spese"),o(),t(61,"small",75),a(62,"Cancellazione gratuita"),o()()(),t(63,"button",76),u("click",function(){p(e);let s=c();return g(s.confirmBooking())}),v(64,ze,3,0,"span",77)(65,Be,2,0,"span",78)(66,Ve,2,0,"span",78)(67,Ae,2,0,"span",78),o(),t(68,"div",79)(69,"small"),a(70,' Facendo clic su "Conferma la prenotazione", accetto i '),t(71,"a",80),a(72,"Termini di Utilizzo di TheSpoon"),o(),a(73,". "),o()()()}if(i&2){let e=c();r(5),h(e.formatFullDate(e.bookingData.date)),r(4),h(e.bookingData.time),r(4),f("",e.bookingData.people," persone"),r(4),h(e.bookingData.discount),r(16),h(e.currentUser.name),r(2),h(e.currentUser.email),r(5),A("ngModel",e.bookingData.customerPhone),d("disabled",e.isSubmitting),r(3),d("ngIf",!e.bookingData.customerPhone||e.bookingData.customerPhone.trim()===""),r(5),A("ngModel",e.bookingData.notes),d("disabled",e.isSubmitting),r(3),d("ngIf",e.submissionError),r(),d("ngIf",!e.isLoggedIn),r(11),d("disabled",e.isSubmitting||!e.isLoggedIn||!e.bookingData.customerPhone||e.bookingData.customerPhone.trim()===""),r(),d("ngIf",e.isSubmitting),r(),d("ngIf",!e.isSubmitting&&e.bookingData.customerPhone&&e.bookingData.customerPhone.trim()!==""),r(),d("ngIf",!e.isSubmitting&&(!e.bookingData.customerPhone||e.bookingData.customerPhone.trim()==="")),r(),d("ngIf",e.isSubmitting)}}var R=class i{constructor(n,e){this.reservationService=n;this.authService=e}restaurant=null;isOpen=!1;closeModal=new B;bookingConfirmed=new B;currentStep="date";currentMonth=new Date;isSubmitting=!1;submissionError=null;bookingData={date:null,time:null,people:2,discount:"-20%",notes:"",customerPhone:""};steps=[{step:"date",title:"Scegli una data disponibile"},{step:"time",title:"Scegli un orario disponibile"},{step:"people",title:"Indica il numero di persone"},{step:"confirm",title:"Controlla i dettagli della prenotazione"}];lunchTimes=["12:00","12:30","13:00","13:30","14:00","14:30"];dinnerTimes=["19:00","19:30","20:00","20:30","21:00","21:30","22:00"];ngOnInit(){this.currentMonth=new Date}getDaysInMonth(){let n=this.currentMonth.getFullYear(),e=this.currentMonth.getMonth(),l=new Date(n,e,1),s=new Date(n,e+1,0),_=new Date(l);_.setDate(_.getDate()-(_.getDay()||7)+1);let P=[],w=new Date(_);for(let T=0;T<42;T++)w.getMonth()===e?P.push(new Date(w)):P.push(null),w.setDate(w.getDate()+1);return P}isDateAvailable(n){let e=new Date;return e.setHours(0,0,0,0),n>=e&&n<=new Date(e.getTime()+30*24*60*60*1e3)}getDateDiscount(n){let e=n.getDay();return e>=1&&e<=4?"-20%":e===5?"-15%":"-10%"}selectDate(n){this.isDateAvailable(n)&&(this.bookingData.date=n,this.bookingData.discount=this.getDateDiscount(n),this.goToStep("time"))}selectTime(n){this.bookingData.time=n,this.goToStep("people")}selectPeople(n){this.bookingData.people=n,this.goToStep("confirm")}goToStep(n){this.currentStep=n,this.submissionError=null}goToPreviousStep(){let n=["date","time","people","confirm"],e=n.indexOf(this.currentStep);e>0&&(this.currentStep=n[e-1])}confirmBooking(){if(!this.restaurant||!this.bookingData.date||!this.bookingData.time){this.submissionError="Dati prenotazione incompleti";return}if(!this.authService.isLoggedIn()){this.submissionError="Devi essere loggato per prenotare";return}if(!this.bookingData.customerPhone||this.bookingData.customerPhone.trim()===""){this.submissionError="Il numero di telefono \xE8 obbligatorio";return}this.isSubmitting=!0,this.submissionError=null;try{let n=this.reservationService.createReservationFromBookingData(this.bookingData,this.restaurant.id,this.authService.getUserId(),this.authService.getUserFullName(),this.bookingData.customerPhone,this.bookingData.notes);console.log("\u{1F4E4} Creazione prenotazione:",n),this.reservationService.createReservation(n).subscribe({next:e=>{console.log("\u2705 Prenotazione creata con successo:",e),this.isSubmitting=!1,this.showBookingSuccessAlert(e),this.bookingConfirmed.emit(j(N({},this.bookingData),{reservationId:e.id,restaurant:this.restaurant})),this.close()},error:e=>{console.error("\u274C Errore creazione prenotazione:",e),this.isSubmitting=!1,this.showBookingErrorAlert(e.error?.message||"Errore nella creazione della prenotazione. Riprova.")}})}catch(n){console.error("\u274C Errore validazione:",n),this.isSubmitting=!1,this.showBookingErrorAlert(n.message||"Errore nella validazione dei dati")}}showBookingSuccessAlert(n){let e=this.formatFullDate(this.bookingData.date),l=this.bookingData.time;U.default.fire({title:"\u{1F389} Prenotazione Confermata!",html:`
        <div style="text-align: center; margin: 2rem 0;">
          <!-- Animazione icone -->
          <div style="margin: 1.5rem 0; font-size: 4rem; color: #28a745;">
            <i class="fas fa-calendar-check" style="animation: bounceIn 1s ease-out;"></i>
          </div>

          <!-- Dettagli prenotazione -->
          <div style="background: #f8f9fa; border-radius: 12px; padding: 1.5rem; margin: 1rem 0; border-left: 4px solid #28a745;">
            <h4 style="color: #28a745; margin-bottom: 1rem; font-weight: 600;">
              <i class="fas fa-utensils"></i> ${this.restaurant?.name}
            </h4>

            <div style="display: flex; flex-direction: column; gap: 0.75rem; text-align: left;">
              <div style="display: flex; align-items: center; gap: 0.5rem;">
                <i class="fas fa-calendar" style="color: #28a745; width: 20px;"></i>
                <strong>${e}</strong>
              </div>

              <div style="display: flex; align-items: center; gap: 0.5rem;">
                <i class="fas fa-clock" style="color: #28a745; width: 20px;"></i>
                <strong>${l}</strong>
              </div>

              <div style="display: flex; align-items: center; gap: 0.5rem;">
                <i class="fas fa-users" style="color: #28a745; width: 20px;"></i>
                <strong>${this.bookingData.people} ${this.bookingData.people===1?"persona":"persone"}</strong>
              </div>

              <div style="display: flex; align-items: center; gap: 0.5rem;">
                <i class="fas fa-phone" style="color: #28a745; width: 20px;"></i>
                <strong>${this.bookingData.customerPhone}</strong>
              </div>

              <div style="display: flex; align-items: center; gap: 0.5rem;">
                <i class="fas fa-ticket-alt" style="color: #dc3545; width: 20px;"></i>
                <strong style="color: #dc3545;">${this.bookingData.discount} di sconto!</strong>
              </div>
            </div>
          </div>

          <!-- ID Prenotazione -->
          <div style="background: #28a745; color: white; padding: 0.75rem; border-radius: 8px; margin: 1rem 0;">
            <strong>ID Prenotazione: #${n.id}</strong>
          </div>

          <!-- Messaggio -->
          <p style="color: #6c757d; margin: 1rem 0; line-height: 1.5;">
            <i class="fas fa-envelope" style="color: #28a745;"></i>
            Riceverai una conferma via email con tutti i dettagli della prenotazione.
          </p>

          <!-- Prossimi passi -->
          <div style="background: #e7f3ff; border-radius: 8px; padding: 1rem; margin: 1rem 0;">
            <h6 style="color: #0066cc; margin-bottom: 0.5rem;">
              <i class="fas fa-info-circle"></i> Prossimi passi:
            </h6>
            <ul style="text-align: left; color: #0066cc; margin: 0; padding-left: 1.5rem;">
              <li>Arriva 5 minuti prima dell'orario prenotato</li>
              <li>Presenta il tuo nome alla reception</li>
              <li>Goditi il tuo ${this.bookingData.discount} di sconto!</li>
            </ul>
          </div>
        </div>
      `,icon:"success",confirmButtonText:'<i class="fas fa-check"></i> Perfetto!',confirmButtonColor:"#28a745",width:"600px",timer:8e3,timerProgressBar:!0,showCloseButton:!0,allowOutsideClick:!1,customClass:{container:"booking-success-modal",popup:"booking-success-popup",title:"booking-success-title",confirmButton:"booking-success-button"},didOpen:()=>{let s=document.createElement("style");s.textContent=`
          @keyframes bounceIn {
            0% { transform: scale(0.3); opacity: 0; }
            50% { transform: scale(1.05); }
            70% { transform: scale(0.9); }
            100% { transform: scale(1); opacity: 1; }
          }

          .booking-success-popup {
            border-radius: 16px !important;
            box-shadow: 0 20px 60px rgba(40, 167, 69, 0.3) !important;
          }

          .booking-success-button {
            border-radius: 25px !important;
            padding: 12px 24px !important;
            font-weight: 600 !important;
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3) !important;
          }
        `,document.head.appendChild(s)}}).then(s=>{s.isConfirmed&&console.log("\u{1F3AF} Utente ha confermato - possibile redirect a dashboard")})}showBookingErrorAlert(n){U.default.fire({title:"\u274C Prenotazione Non Riuscita",html:`
        <div style="text-align: center; margin: 1.5rem 0;">
          <div style="margin: 1rem 0; font-size: 3rem; color: #dc3545;">
            <i class="fas fa-exclamation-triangle"></i>
          </div>

          <div style="background: #f8d7da; border-radius: 8px; padding: 1rem; margin: 1rem 0; border-left: 4px solid #dc3545;">
            <p style="color: #721c24; margin: 0; font-weight: 500;">
              ${n}
            </p>
          </div>

          <div style="background: #e2e3e5; border-radius: 8px; padding: 1rem; margin: 1rem 0;">
            <h6 style="color: #6c757d; margin-bottom: 0.5rem;">
              <i class="fas fa-lightbulb"></i> Cosa puoi fare:
            </h6>
            <ul style="text-align: left; color: #6c757d; margin: 0; padding-left: 1.5rem;">
              <li>Verifica tutti i dati inseriti</li>
              <li>Prova un orario diverso</li>
              <li>Controlla la connessione internet</li>
              <li>Riprova tra qualche minuto</li>
            </ul>
          </div>
        </div>
      `,icon:"error",confirmButtonText:'<i class="fas fa-redo"></i> Riprova',confirmButtonColor:"#dc3545",width:"500px",customClass:{popup:"booking-error-popup",confirmButton:"booking-error-button"},didOpen:()=>{let e=document.createElement("style");e.textContent=`
          .booking-error-popup {
            border-radius: 16px !important;
            box-shadow: 0 20px 60px rgba(220, 53, 69, 0.3) !important;
          }

          .booking-error-button {
            border-radius: 25px !important;
            padding: 12px 24px !important;
            font-weight: 600 !important;
          }
        `,document.head.appendChild(e)}})}close(){this.closeModal.emit(),this.resetBooking()}resetBooking(){this.currentStep="date",this.isSubmitting=!1,this.submissionError=null,this.bookingData={date:null,time:null,people:2,discount:"-20%",notes:"",customerPhone:""}}formatDate(n){return n.toLocaleDateString("it-IT",{weekday:"short",day:"numeric",month:"short"})}formatFullDate(n){return n.toLocaleDateString("it-IT",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}getMonthName(){return this.currentMonth.toLocaleDateString("it-IT",{month:"long",year:"numeric"})}previousMonth(){this.currentMonth=new Date(this.currentMonth.getFullYear(),this.currentMonth.getMonth()-1)}nextMonth(){this.currentMonth=new Date(this.currentMonth.getFullYear(),this.currentMonth.getMonth()+1)}getStepTitle(){return this.steps.find(n=>n.step===this.currentStep)?.title||""}get currentUser(){return{name:this.authService.getUserFullName(),email:this.authService.getUserEmail(),phone:this.authService.getUserPhone()}}get isLoggedIn(){return this.authService.isLoggedIn()}static \u0275fac=function(e){return new(e||i)(C(ae),C(D))};static \u0275cmp=O({type:i,selectors:[["app-booking-modal"]],inputs:{restaurant:"restaurant",isOpen:"isOpen"},outputs:{closeModal:"closeModal",bookingConfirmed:"bookingConfirmed"},decls:25,vars:17,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],["class","btn-back",3,"click",4,"ngIf"],[1,"modal-title"],[1,"btn-close",3,"click"],[1,"fas","fa-times"],[1,"step-title"],[1,"progress-bar","row","d-flex","flex-row"],[1,"progress-step"],[1,"fas","fa-calendar-alt"],[1,"fas","fa-clock"],[1,"fas","fa-users"],[1,"fas","fa-check"],[1,"step-content"],["class","date-step",4,"ngIf"],["class","time-step",4,"ngIf"],["class","people-step",4,"ngIf"],["class","confirm-step",4,"ngIf"],[1,"btn-back",3,"click"],[1,"fas","fa-arrow-left"],[1,"date-step"],[1,"calendar-header"],[1,"btn-month",3,"click"],[1,"fas","fa-chevron-left"],[1,"fas","fa-chevron-right"],[1,"days-header"],[1,"day-header"],[1,"calendar-grid"],["class","calendar-day",3,"available","unavailable","selected","click",4,"ngFor","ngForOf"],[1,"calendar-day",3,"click"],["class","day-content",4,"ngIf"],[1,"day-content"],[1,"day-number"],["class","day-discount",4,"ngIf"],[1,"day-discount"],[1,"time-step"],[1,"selected-info"],[1,"fas","fa-calendar-check"],[1,"flex-fill"],[1,"time-section"],[1,"time-grid"],["class","time-button",3,"selected","click",4,"ngFor","ngForOf"],[1,"time-button",3,"click"],[1,"people-step"],[1,"people-grid"],["class","people-button",3,"selected","click",4,"ngFor","ngForOf"],[1,"text-center","mt-3"],[1,"btn","btn-outline-secondary","btn-sm"],[1,"fas","fa-plus","me-1"],[1,"people-button",3,"click"],[1,"people-number"],[1,"confirm-step"],[1,"booking-summary"],[1,"summary-item"],[1,"fas","fa-percentage"],[1,"promotion-card"],[1,"promotion-content"],[1,"promotion-badge"],[1,"d-flex","align-items-center","p-3","bg-secondary","rounded","mb-3"],[1,"rounded-circle","bg-primary","text-white","d-flex","align-items-center","justify-content-center","me-3",2,"width","40px","height","40px"],[1,"fas","fa-user"],[1,"mb-0","text-white"],[1,"text-muted"],[1,"mb-3"],[1,"input-group"],[1,"input-group-text","bg-secondary","border-secondary"],[1,"fas","fa-phone","text-primary"],["type","tel","placeholder","Inserisci il tuo numero di telefono","required","",1,"form-control","bg-secondary","border-secondary","text-white",3,"ngModelChange","ngModel","disabled"],["class","alert alert-warning mb-3","role","alert",4,"ngIf"],[1,"fas","fa-comment","text-primary"],["type","text","placeholder","Richiesta speciale (opzionale)",1,"form-control","bg-secondary","border-secondary","text-white",3,"ngModelChange","ngModel","disabled"],["class","alert alert-danger mb-3","role","alert",4,"ngIf"],[1,"text-white"],[1,"d-flex","flex-wrap","gap-2"],[1,"badge","bg-success"],[1,"btn-confirm",3,"click","disabled"],["class","spinner-border spinner-border-sm me-2","role","status",4,"ngIf"],[4,"ngIf"],[1,"legal-text"],["href","#",1,"legal-link"],["role","alert",1,"alert","alert-warning","mb-3"],[1,"fas","fa-phone","me-2"],["role","alert",1,"alert","alert-danger","mb-3"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"fas","fa-info-circle","me-2"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"visually-hidden"]],template:function(e,l){e&1&&(t(0,"div",0),u("click",function(){return l.close()}),t(1,"div",1),u("click",function(_){return _.stopPropagation()}),t(2,"div",2),v(3,Ce,2,0,"button",3),t(4,"h2",4),a(5),o(),t(6,"button",5),u("click",function(){return l.close()}),m(7,"i",6),o()(),t(8,"div",7)(9,"h3"),a(10),o()(),t(11,"div",8)(12,"div",9),m(13,"i",10),o(),t(14,"div",9),m(15,"i",11),o(),t(16,"div",9),m(17,"i",12),o(),t(18,"div",9),m(19,"i",13),o()(),t(20,"div",14),v(21,Pe,25,2,"div",15)(22,Se,15,3,"div",16)(23,Ie,14,4,"div",17)(24,Fe,74,18,"div",18),o()()()),e&2&&(b("show",l.isOpen),r(3),d("ngIf",l.currentStep!=="date"),r(2),h(l.restaurant==null?null:l.restaurant.name),r(5),h(l.getStepTitle()),r(2),b("active",l.currentStep==="date"),r(2),b("active",l.currentStep==="time"),r(2),b("active",l.currentStep==="people"),r(2),b("active",l.currentStep==="confirm"),r(3),d("ngIf",l.currentStep==="date"),r(),d("ngIf",l.currentStep==="time"),r(),d("ngIf",l.currentStep==="people"),r(),d("ngIf",l.currentStep==="confirm"))},dependencies:[I,S,E,ie,ee,te,oe,ne],styles:['.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:50px 0 0;background-color:#000c;display:flex;align-items:center;justify-content:center;z-index:1000;opacity:0;visibility:hidden;transition:all .3s ease;padding:10px;overflow-y:auto}.modal-overlay.show[_ngcontent-%COMP%]{opacity:1;visibility:visible}.modal-content[_ngcontent-%COMP%]{background-color:var(--bg-color);border-radius:16px;box-shadow:0 20px 40px #0000004d;transform:scale(.9) translateY(20px);transition:transform .3s ease;overflow:hidden;width:100%;max-width:450px;max-height:85vh;display:flex;flex-direction:column;margin:auto}.modal-overlay.show[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{transform:scale(1) translateY(0)}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;border-bottom:1px solid var(--border-color);flex-shrink:0}.modal-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:var(--text-color);margin:0;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;flex:1;padding:0 .5rem}.btn-back[_ngcontent-%COMP%], .btn-close[_ngcontent-%COMP%]{width:36px;height:36px;border:none;border-radius:50%;background-color:var(--bg-secondary);color:var(--text-color);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;flex-shrink:0}.btn-back[_ngcontent-%COMP%]:hover, .btn-close[_ngcontent-%COMP%]:hover{background-color:var(--primary-color);color:#fff}.step-title[_ngcontent-%COMP%]{padding:1rem;flex-shrink:0}.step-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--text-color);margin:0;line-height:1.4}.progress-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;flex-shrink:0;position:relative;margin:0 1rem}.progress-bar[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50px;right:50px;height:2px;background-color:var(--border-color);z-index:1}.progress-step[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background-color:var(--bg-secondary);border:2px solid var(--border-color);display:flex;align-items:center;justify-content:center;color:var(--text-muted);font-size:.9rem;transition:all .3s ease;position:relative;z-index:2;flex-shrink:0}.progress-step.active[_ngcontent-%COMP%]{background-color:var(--primary-color);border-color:var(--primary-color);color:#fff}.step-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:0 1rem 1rem;min-height:0}.calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.calendar-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:var(--text-color);margin:0}.btn-month[_ngcontent-%COMP%]{width:32px;height:32px;border:none;border-radius:50%;background-color:var(--bg-secondary);color:var(--text-color);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease}.btn-month[_ngcontent-%COMP%]:hover{background-color:var(--primary-color);color:#fff}.days-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:2px;margin-bottom:.5rem}.day-header[_ngcontent-%COMP%]{text-align:center;font-size:.75rem;font-weight:500;color:var(--text-muted);padding:.5rem 0}.calendar-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:2px;margin-bottom:1rem}.calendar-day[_ngcontent-%COMP%]{aspect-ratio:1;border:1px solid var(--border-color);border-radius:6px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;min-height:38px;position:relative}.calendar-day[_ngcontent-%COMP%]:hover{border-color:var(--primary-color)}.calendar-day.available[_ngcontent-%COMP%]{background-color:var(--bg-color);border-color:var(--primary-color)}.calendar-day.selected[_ngcontent-%COMP%]{background-color:var(--primary-color);border-color:var(--primary-color);color:#fff}.calendar-day.unavailable[_ngcontent-%COMP%]{background-color:var(--bg-secondary);color:var(--text-muted);cursor:not-allowed}.day-content[_ngcontent-%COMP%]{text-align:center;display:flex;flex-direction:column;align-items:center;gap:1px;width:100%}.day-number[_ngcontent-%COMP%]{font-size:.8rem;font-weight:500;line-height:1}.day-discount[_ngcontent-%COMP%]{font-size:.6rem;background-color:var(--primary-color);color:#fff;padding:1px 3px;border-radius:3px;font-weight:500;position:absolute;bottom:1px;right:1px}.selected-info[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;gap:.75rem;padding:.75rem;background-color:var(--bg-secondary);border-radius:8px;margin-bottom:1rem;font-size:.85rem;color:var(--text-color)}.selected-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color)}.time-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.time-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.95rem;font-weight:600;color:var(--text-color);margin-bottom:.75rem}.time-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(90px,1fr));gap:.5rem}.time-button[_ngcontent-%COMP%]{padding:.75rem .5rem;border:1px solid var(--border-color);border-radius:6px;background-color:var(--bg-color);color:var(--text-color);cursor:pointer;transition:all .3s ease;text-align:center;font-size:.85rem;min-height:60px;display:flex;flex-direction:column;justify-content:center;align-items:center}.time-button[_ngcontent-%COMP%]:hover{border-color:var(--primary-color);background-color:var(--bg-secondary)}.time-button.selected[_ngcontent-%COMP%]{background-color:var(--primary-color);border-color:var(--primary-color);color:#fff}.time-button[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;font-size:.7rem;margin-top:2px;opacity:.8}.people-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(70px,1fr));gap:.5rem;margin-bottom:1rem}.people-button[_ngcontent-%COMP%]{aspect-ratio:1;border:1px solid var(--border-color);border-radius:6px;background-color:var(--bg-color);color:var(--text-color);cursor:pointer;transition:all .3s ease;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:2px;min-height:60px}.people-button[_ngcontent-%COMP%]:hover{border-color:var(--primary-color);background-color:var(--bg-secondary)}.people-button.selected[_ngcontent-%COMP%]{background-color:var(--primary-color);border-color:var(--primary-color);color:#fff}.people-number[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600}.people-button[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.65rem;opacity:.8}.booking-summary[_ngcontent-%COMP%]{background-color:var(--bg-secondary);border-radius:8px;padding:1rem;margin-bottom:1rem}.summary-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.5rem;color:var(--text-color);font-size:.85rem;flex-wrap:wrap}.summary-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.summary-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color);width:16px;flex-shrink:0}.promotion-card[_ngcontent-%COMP%]{background-color:var(--bg-secondary);border-radius:8px;padding:1rem;margin-bottom:1rem;text-align:center}.promotion-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.95rem;font-weight:600;color:var(--text-color);margin-bottom:.5rem}.promotion-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.85rem;color:var(--primary-color);margin-bottom:.5rem}.promotion-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-muted);margin-bottom:.5rem;line-height:1.4}.promotion-badge[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff;padding:.25rem .5rem;border-radius:4px;font-size:.7rem;font-weight:500}.btn-confirm[_ngcontent-%COMP%]{width:100%;padding:.875rem;background-color:var(--primary-color);color:#fff;border:none;border-radius:8px;font-size:.95rem;font-weight:600;cursor:pointer;transition:all .3s ease;margin-bottom:.75rem}.btn-confirm[_ngcontent-%COMP%]:hover{background-color:var(--primary-dark)}.legal-text[_ngcontent-%COMP%]{text-align:center;color:var(--text-muted);font-size:.7rem;line-height:1.4;padding:0 .5rem}.legal-link[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none}.legal-link[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 575.98px){.modal-overlay[_ngcontent-%COMP%]{padding:60px 5px 5px;align-items:flex-start}.modal-content[_ngcontent-%COMP%]{max-width:100%;max-height:98vh;margin:0;border-radius:12px}.modal-header[_ngcontent-%COMP%]{padding:.75rem}.modal-title[_ngcontent-%COMP%]{font-size:1rem}.btn-back[_ngcontent-%COMP%], .btn-close[_ngcontent-%COMP%]{width:32px;height:32px}.step-title[_ngcontent-%COMP%]{padding:.75rem}.step-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.9rem}.progress-bar[_ngcontent-%COMP%]{padding:.75rem;margin:0 .5rem}.progress-bar[_ngcontent-%COMP%]:before{left:35px;right:35px}.progress-step[_ngcontent-%COMP%]{width:32px;height:32px;font-size:.8rem}.step-content[_ngcontent-%COMP%]{padding:0 .75rem .75rem}.calendar-day[_ngcontent-%COMP%]{min-height:32px}.day-number[_ngcontent-%COMP%]{font-size:.75rem}.day-discount[_ngcontent-%COMP%]{font-size:.55rem}.time-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.time-button[_ngcontent-%COMP%]{min-height:50px;font-size:.8rem}.people-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}.people-button[_ngcontent-%COMP%]{min-height:50px}.people-number[_ngcontent-%COMP%]{font-size:1rem}}@media (min-width: 576px) and (max-width: 767.98px){.modal-content[_ngcontent-%COMP%]{max-width:90%}.time-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}.people-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media (min-width: 768px) and (max-width: 991.98px){.modal-content[_ngcontent-%COMP%]{max-width:500px}.time-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}.people-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media (min-width: 992px){.modal-content[_ngcontent-%COMP%]{max-width:450px}.time-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}.people-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}.step-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:3px}.step-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.step-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--primary-color);border-radius:2px}*[_ngcontent-%COMP%]{transition:background-color .3s ease,color .3s ease,border-color .3s ease}']})};var _e=$(re());function Le(i,n){i&1&&(t(0,"div",2)(1,"div",3)(2,"div",4)(3,"span",5),a(4,"Loading..."),o()(),t(5,"p",6),a(6,"\u{1F37D}\uFE0F Caricamento dettagli ristorante..."),o()()())}function Ue(i,n){if(i&1){let e=x();t(0,"div",2)(1,"div",7)(2,"h4",8),a(3,"Ops! Qualcosa \xE8 andato storto"),o(),t(4,"p",9),a(5),o(),t(6,"button",10),u("click",function(){p(e);let s=c();return g(s.goBack())}),a(7," \u{1F504} Torna alla homepage "),o()()()}if(i&2){let e=c();r(5),h(e.error)}}function Ne(i,n){if(i&1){let e=x();t(0,"button",90),u("click",function(s){return p(e),c(3).previousPhoto(),g(s.stopPropagation())}),m(1,"i",91),o()}}function je(i,n){if(i&1){let e=x();t(0,"button",92),u("click",function(s){return p(e),c(3).nextPhoto(),g(s.stopPropagation())}),m(1,"i",55),o()}}function $e(i,n){if(i&1){let e=x();t(0,"div",84)(1,"img",85),u("click",function(){p(e);let s=c(2);return g(s.openPhotoModal())})("touchstart",function(s){p(e);let _=c(2);return g(_.onTouchStart(s))})("touchend",function(s){p(e);let _=c(2);return g(_.onTouchEnd(s))}),o(),v(2,Ne,2,0,"button",86)(3,je,2,0,"button",87),t(4,"div",88)(5,"small",89),a(6),o()()()}if(i&2){let e=c(2);r(),d("src",e.currentPhotoUrl,z)("alt",e.restaurant.name),r(),d("ngIf",e.photoCount>1),r(),d("ngIf",e.photoCount>1),r(3),M(" ",e.currentPhotoIndex+1," / ",e.photoCount," foto ")}}function He(i,n){i&1&&(t(0,"div",3)(1,"div",93),a(2,"\u{1F4F8}"),o(),t(3,"small",94),a(4,"Nessuna foto disponibile"),o()())}function Ye(i,n){if(i&1&&(t(0,"span",29),a(1),o()),i&2){let e=c(2);r(),f(" \u{1F4DE} ",e.restaurant.phoneNumber," ")}}function Xe(i,n){if(i&1&&(t(0,"span",29),a(1),o()),i&2){let e=c(2);r(),f(" \u2709\uFE0F ",e.restaurant.businessEmail," ")}}function We(i,n){if(i&1&&(t(0,"div",95)(1,"h3",96),a(2,"Descrizione"),o(),t(3,"p",38),a(4),o()()),i&2){let e=c(2);r(4),h(e.restaurant.description)}}function Ge(i,n){if(i&1&&(t(0,"div",100)(1,"div",101),m(2,"i",102),t(3,"span"),a(4),o()()()),i&2){let e=n.$implicit;r(4),h(e)}}function qe(i,n){if(i&1&&(t(0,"section",97)(1,"div",24)(2,"h3",96),a(3,"Punti di forza del ristorante"),o(),t(4,"div",98),v(5,Ge,5,1,"div",99),o()()()),i&2){let e=c(2);r(5),d("ngForOf",e.strengthsFromReviews)}}function Ze(i,n){i&1&&(t(0,"div",108),m(1,"i",109),o())}function Ke(i,n){if(i&1){let e=x();t(0,"div",103)(1,"div",104),v(2,Ze,2,0,"div",105),t(3,"button",106),u("click",function(){let s=p(e).$implicit,_=c(2);return g(_.canBook?_.openBookingModal(s):null)}),t(4,"div"),a(5),o(),t(6,"small",107),a(7),o()()()()}if(i&2){let e=n.$implicit,l=c(2);r(),b("date-disabled",!l.canBook),V("data-bs-toggle",l.canBook?null:"tooltip")("data-bs-placement","top")("title",l.canBook?null:"Devi essere loggato per effettuare una prenotazione"),r(),d("ngIf",!l.canBook),r(),b("disabled-date",!l.canBook),r(2),h(e.label),r(2),f(" ",e.discount," ")}}function Qe(i,n){i&1&&(t(0,"div",110),m(1,"i",111),o())}function Je(i,n){i&1&&(t(0,"div",33)(1,"div",4)(2,"span",5),a(3,"Loading..."),o()(),t(4,"p"),a(5,"\u{1F37D}\uFE0F Caricamento menu..."),o()())}function et(i,n){if(i&1&&(t(0,"div",112)(1,"p",113),a(2),o()()),i&2){let e=c(2);r(2),f("\u26A0\uFE0F ",e.menuError)}}function tt(i,n){if(i&1&&(t(0,"div",119)(1,"div")(2,"span",120),a(3),o()(),t(4,"span",32),a(5),o()()),i&2){let e=n.$implicit;r(3),h(e.name),r(2),f("",e.price," \u20AC")}}function nt(i,n){if(i&1&&(t(0,"div",115)(1,"h5",116),a(2),o(),t(3,"div",117),v(4,tt,6,2,"div",118),o()()),i&2){let e=n.$implicit;r(2),h(e.category),r(2),d("ngForOf",e.items)}}function ot(i,n){if(i&1&&(t(0,"div")(1,"h4",96),a(2,"PIATTI HIGHLIGHTS"),o(),v(3,nt,5,2,"div",114),o()),i&2){let e=c(2);r(3),d("ngForOf",e.menuHighlightsByCategory)}}function it(i,n){i&1&&(t(0,"div")(1,"div",33)(2,"div",93),a(3,"\u{1F37D}\uFE0F"),o(),t(4,"p",38),a(5,"Menu non ancora disponibile"),o()()())}function rt(i,n){if(i&1&&(t(0,"div",121)(1,"div",71),m(2,"i",122),t(3,"div")(4,"div",32),a(5,"Hai gi\xE0 recensito questo ristorante"),o(),t(6,"small",38),a(7),y(8,"date"),o()()()()),i&2){let e=c(2);r(7),M(" Rating: ",e.userReview.ratingGeneral,"/10 \u2022 ",k(8,2,e.userReview.createdAt,"dd/MM/yyyy")," ")}}function at(i,n){i&1&&(t(0,"div",33)(1,"div",4)(2,"span",5),a(3,"Loading..."),o()(),t(4,"p"),a(5,"\u2B50 Caricamento recensioni..."),o()())}function lt(i,n){if(i&1&&(t(0,"div",112)(1,"p",113),a(2),o()()),i&2){let e=c(2);r(2),f("\u26A0\uFE0F ",e.reviewsError)}}function st(i,n){if(i&1&&(t(0,"p",134),a(1),y(2,"slice"),o()),i&2){let e=c().$implicit;r(),f(' "',e.comment.length>100?G(2,1,e.comment,0,100)+"...":e.comment,'" ')}}function ct(i,n){i&1&&(t(0,"div",135)(1,"em"),a(2,"Nessun commento"),o()())}function dt(i,n){if(i&1&&(t(0,"div",73)(1,"div",127)(2,"div",101)(3,"div",128),m(4,"i",129),o(),t(5,"div")(6,"div",32),a(7),o(),t(8,"small",38),a(9),y(10,"date"),o()(),t(11,"div",130)(12,"span",131),a(13),o()()(),v(14,st,3,5,"p",132)(15,ct,3,0,"div",133),o()()),i&2){let e=n.$implicit;r(7),M(" ",e.customer.firstName," ",e.customer.lastName.charAt(0),". "),r(2),h(k(10,6,e.createdAt,"dd/MM/yyyy")),r(4),f("",e.ratingGeneral,"/10"),r(),d("ngIf",e.comment),r(),d("ngIf",!e.comment)}}function mt(i,n){if(i&1){let e=x();t(0,"div",64)(1,"button",136),u("click",function(){p(e);let s=c(3);return g(s.viewAllReviews())}),m(2,"i",75),a(3),o()()}if(i&2){let e=c(3);r(3),f(" Vedi tutte le ",e.reviews.length," recensioni ")}}function pt(i,n){if(i&1&&(t(0,"div",95)(1,"h4",123),a(2,"Recensioni Recenti"),o(),t(3,"div",124),v(4,dt,16,9,"div",125),o(),v(5,mt,4,1,"div",126),o()),i&2){let e=c(2);r(4),d("ngForOf",e.reviews.slice(0,2)),r(),d("ngIf",e.reviews.length>2)}}function gt(i,n){if(i&1){let e=x();t(0,"div",33)(1,"div",93),a(2,"\u2B50"),o(),t(3,"h5",9),a(4,"Nessuna recensione ancora"),o(),t(5,"p",137),a(6," Sii il primo a lasciare una recensione per questo ristorante! "),o(),t(7,"button",138),u("click",function(){p(e);let s=c(2);return g(s.openReviewModal())}),m(8,"i",139),a(9," Scrivi la Prima Recensione "),o()()}if(i&2){let e=c(2);r(7),d("disabled",!e.canWriteReview)}}function ut(i,n){if(i&1){let e=x();t(0,"div",140)(1,"div",24)(2,"button",141),u("click",function(){p(e);let s=c(2);return g(s.bookTable())}),a(3),o()()()}if(i&2){let e=c(2);r(2),b("btn-success",e.canBook)("btn-outline-success",!e.canBook),r(),f(" ",e.canBook?"PRENOTA UN TAVOLO":"Accedi per prenotare"," ")}}function _t(i,n){if(i&1){let e=x();t(0,"div",152)(1,"button",153),u("click",function(){p(e);let s=c(3);return g(s.previousPhotoModal())}),m(2,"i",91),o(),t(3,"button",154),u("click",function(){p(e);let s=c(3);return g(s.nextPhotoModal())}),m(4,"i",55),o()()}}function vt(i,n){if(i&1&&(t(0,"div",155),a(1),o()),i&2){let e=c(3);r(),M(" ",e.currentPhotoIndex+1," / ",e.photoCount," ")}}function ht(i,n){if(i&1){let e=x();t(0,"div",142),u("click",function(){p(e);let s=c(2);return g(s.closePhotoModal())}),t(1,"div",143),u("click",function(s){return p(e),g(s.stopPropagation())}),t(2,"button",144),u("click",function(){p(e);let s=c(2);return g(s.closePhotoModal())}),m(3,"i",145),o(),t(4,"img",146),u("load",function(){p(e);let s=c(2);return g(s.onPhotoLoaded())})("error",function(){p(e);let s=c(2);return g(s.onPhotoError())})("touchstart",function(s){p(e);let _=c(2);return g(_.onModalTouchStart(s))})("touchend",function(s){p(e);let _=c(2);return g(_.onModalTouchEnd(s))}),o(),v(5,_t,5,0,"div",147)(6,vt,2,2,"div",148),t(7,"div",149)(8,"h3",150),a(9),o(),t(10,"p",151),a(11),o()()()()}if(i&2){let e=c(2);r(4),d("src",e.currentPhotoUrl,z)("alt",e.restaurant.name),r(),d("ngIf",e.photoCount>1),r(),d("ngIf",e.photoCount>1),r(3),h(e.restaurant.name),r(2),M(" ",e.restaurant.address,", ",e.restaurant.city," ")}}function ft(i,n){i&1&&(t(0,"div",33)(1,"div",4)(2,"span",5),a(3,"Loading..."),o()(),t(4,"p"),a(5,"\u{1F37D}\uFE0F Caricamento menu..."),o()())}function xt(i,n){if(i&1&&(t(0,"li",168)(1,"div",169)(2,"span",170),a(3),o(),t(4,"span",171),a(5),o()()()),i&2){let e=n.$implicit;r(3),h(e.name),r(2),f("",e.price," \u20AC")}}function bt(i,n){if(i&1&&(t(0,"div",164)(1,"h4",165),a(2),o(),t(3,"ul",166),v(4,xt,6,2,"li",167),o()()),i&2){let e=n.$implicit;r(2),h(e.category),r(2),d("ngForOf",e.items)}}function Ct(i,n){if(i&1&&(t(0,"div"),v(1,bt,5,2,"div",163),o()),i&2){let e=c(3);r(),d("ngForOf",e.menuByCategory)}}function Mt(i,n){i&1&&(t(0,"div",33)(1,"div",93),a(2,"\u{1F37D}\uFE0F"),o(),t(3,"p",38),a(4,"Menu non disponibile"),o()())}function wt(i,n){if(i&1){let e=x();t(0,"div",156),u("click",function(){p(e);let s=c(2);return g(s.closeMenuModal())}),t(1,"div",157),u("click",function(s){return p(e),g(s.stopPropagation())}),t(2,"button",158),u("click",function(){p(e);let s=c(2);return g(s.closeMenuModal())}),m(3,"i",145),o(),t(4,"div",159)(5,"h3",160),a(6,"Men\xF9 Completo"),o(),t(7,"p",161),a(8),o()(),t(9,"div",162),v(10,ft,6,0,"div",59)(11,Ct,2,1,"div",63)(12,Mt,5,0,"div",59),o()()()}if(i&2){let e=c(2);r(8),h(e.restaurant.name),r(2),d("ngIf",e.menuLoading),r(),d("ngIf",e.menuByCategory.length>0&&!e.menuLoading),r(),d("ngIf",e.menuByCategory.length===0&&!e.menuLoading)}}function yt(i,n){if(i&1&&(t(0,"div",195)(1,"p",196),a(2),o()()),i&2){let e=c().$implicit;r(2),h(e.comment)}}function Pt(i,n){i&1&&(t(0,"div",197)(1,"em",38),a(2,"Nessun commento aggiuntivo"),o()())}function Ot(i,n){if(i&1&&(t(0,"div",183)(1,"div",184)(2,"div",185)(3,"div",186),m(4,"i",187),o(),t(5,"div",188)(6,"div",189),a(7),o(),t(8,"div",190),a(9),y(10,"date"),o()()(),t(11,"div",191)(12,"span",192),a(13),o()()(),v(14,yt,3,1,"div",193)(15,Pt,3,0,"div",194),o()),i&2){let e=n.$implicit;r(7),M(" ",e.customer.firstName," ",e.customer.lastName.charAt(0),". "),r(2),f(" ",k(10,6,e.createdAt,"dd/MM/yyyy")," "),r(4),f("",e.ratingGeneral,"/10"),r(),d("ngIf",e.comment),r(),d("ngIf",!e.comment)}}function kt(i,n){if(i&1&&(t(0,"div",181),v(1,Ot,16,9,"div",182),o()),i&2){let e=c(3);r(),d("ngForOf",e.reviews)}}function St(i,n){i&1&&(t(0,"div",198)(1,"div",199),a(2,"\u2B50"),o(),t(3,"h5",200),a(4,"Nessuna recensione disponibile"),o()())}function Et(i,n){if(i&1){let e=x();t(0,"div",172),u("click",function(){p(e);let s=c(2);return g(s.closeReviewsModal())}),t(1,"div",173),u("click",function(s){return p(e),g(s.stopPropagation())}),t(2,"button",174),u("click",function(){p(e);let s=c(2);return g(s.closeReviewsModal())}),m(3,"i",145),o(),t(4,"div",175)(5,"h3",176),a(6,"Tutte le Recensioni"),o(),t(7,"p",177),a(8),o()(),t(9,"div",178),v(10,kt,2,1,"div",179)(11,St,5,0,"div",180),o()()()}if(i&2){let e=c(2);r(8),h(e.restaurant.name),r(2),d("ngIf",e.reviews.length>0),r(),d("ngIf",e.reviews.length===0)}}function It(i,n){if(i&1){let e=x();t(0,"div",11)(1,"section",12)(2,"div",13),v(3,$e,7,6,"div",14)(4,He,5,0,"div",15),o(),t(5,"div",16)(6,"div",17)(7,"button",18),u("click",function(){p(e);let s=c();return g(s.goBack())}),m(8,"i",19),o(),t(9,"div",20)(10,"button",18),u("click",function(){p(e);let s=c();return g(s.toggleFavorite())}),m(11,"i",21),o(),t(12,"button",18),u("click",function(){p(e);let s=c();return g(s.shareRestaurant())}),m(13,"i",22),o()()()()(),t(14,"section",23)(15,"div",24)(16,"h1",25),a(17),o(),t(18,"div",26),m(19,"i",27),t(20,"span"),a(21),o()(),t(22,"div",28)(23,"span",29),a(24),o(),v(25,Ye,2,1,"span",30)(26,Xe,2,1,"span",30),o(),t(27,"div",26),m(28,"i",31),t(29,"span",32),a(30),o()(),t(31,"div",33)(32,"div",34),m(33,"i",35),t(34,"span",36),a(35),o()(),t(36,"div",37),a(37),o(),t(38,"p",38),a(39),o()(),v(40,We,5,1,"div",39),o()(),v(41,qe,6,1,"section",40),t(42,"section",41)(43,"div",24)(44,"div",42)(45,"div",43),m(46,"i",44),o(),t(47,"div")(48,"div",32),a(49,"Ricevi fino al 20% di sconto"),o(),t(50,"small",38),a(51,"Potrebbero essere applicate condizioni"),o()()()()(),t(52,"section",45)(53,"div",24)(54,"div",46),m(55,"i",47),t(56,"h3",48),a(57,"Prenota per"),o()(),t(58,"div",49),v(59,Ke,8,10,"div",50),o(),t(60,"div",51)(61,"div",52),v(62,Qe,2,0,"div",53),t(63,"button",54),u("click",function(){p(e);let s=c();return g(s.canBook?s.openBookingModal():null)}),a(64," VEDI ALTRE DATE "),m(65,"i",55),o()()()()(),t(66,"section",56)(67,"div",24)(68,"h2",57),a(69,"Men\xF9"),o(),t(70,"div",58),a(71," Ultimo aggiornamento: Luglio 2025 "),o(),v(72,Je,6,0,"div",59)(73,et,3,1,"div",60),t(74,"div",61),m(75,"i",62),t(76,"span",32),a(77),o()(),v(78,ot,4,1,"div",63)(79,it,6,0,"div",63),t(80,"div",64)(81,"button",65),u("click",function(){p(e);let s=c();return g(s.openMenuModal())}),a(82," VEDI IL MEN\xD9 COMPLETO "),m(83,"i",55),o()()()(),t(84,"section",66)(85,"div",24)(86,"h2",57),a(87,"Recensioni dei nostri clienti"),o(),t(88,"div",26),m(89,"i",67),t(90,"span",68),a(91),o(),t(92,"div")(93,"div",69),a(94),o(),t(95,"small",38),a(96),o()()(),t(97,"div",70)(98,"div",71),m(99,"i",72),t(100,"div")(101,"div",32),a(102,"Esperienze reali di clienti reali"),o(),t(103,"small",38),a(104," Lascia una recensione e condividi la tua esperienza con altri clienti. "),o()()()(),t(105,"div",49)(106,"div",73)(107,"button",74),u("click",function(){p(e);let s=c();return g(s.openReviewModal())}),m(108,"i"),a(109),o()(),t(110,"div",73)(111,"button",65),u("click",function(){p(e);let s=c();return g(s.viewAllReviews())}),m(112,"i",75),a(113," LEGGI LE RECENSIONI "),o()()(),v(114,rt,9,5,"div",76)(115,at,6,0,"div",59)(116,lt,3,1,"div",60)(117,pt,6,2,"div",39)(118,gt,10,1,"div",59),o()(),v(119,ut,4,5,"div",77)(120,ht,12,7,"div",78)(121,wt,13,4,"div",79)(122,Et,12,3,"div",80),t(123,"app-auth-modal",81),u("closeModal",function(){p(e);let s=c();return g(s.closeAuthModal())})("authSuccess",function(){p(e);let s=c();return g(s.onAuthSuccess())}),o(),t(124,"app-review-modal",82),u("closeModal",function(){p(e);let s=c();return g(s.closeReviewModal())})("reviewSubmitted",function(s){p(e);let _=c();return g(_.onReviewSubmitted(s))}),o(),t(125,"app-booking-modal",83),u("closeModal",function(){p(e);let s=c();return g(s.closeBookingModal())})("bookingConfirmed",function(s){p(e);let _=c();return g(_.onBookingConfirmed(s))}),o()()}if(i&2){let e=c();r(3),d("ngIf",e.hasPhotos),r(),d("ngIf",!e.hasPhotos),r(13),h(e.restaurant.name),r(4),M("",e.restaurant.address,", ",e.restaurant.city),r(3),h(e.restaurant.cuisineType),r(),d("ngIf",e.restaurant.phoneNumber),r(),d("ngIf",e.restaurant.businessEmail),r(4),f("PREZZO MEDIO ",e.getPriceRange()),r(5),h(e.restaurant.rating||0),r(2),f(" ",e.getStars(e.restaurant.rating||0)," "),r(2),f(" ",e.restaurant.reviewCount||0," recensioni su TheSpoon "),r(),d("ngIf",e.restaurant.description),r(),d("ngIf",e.strengthsFromReviews.length>0),r(18),d("ngForOf",e.availableDates),r(2),b("link-disabled",!e.canBook),V("data-bs-toggle",e.canBook?null:"tooltip")("data-bs-placement","top")("title",e.canBook?null:"Devi essere loggato per effettuare una prenotazione"),r(),d("ngIf",!e.canBook),r(),b("disabled-link",!e.canBook),r(9),d("ngIf",e.menuLoading),r(),d("ngIf",e.menuError),r(4),f("PREZZO MEDIO ",e.getPriceRange()),r(),d("ngIf",e.menuHighlightsByCategory.length>0&&!e.menuLoading),r(),d("ngIf",e.menuHighlightsByCategory.length===0&&!e.menuLoading&&!e.menuError),r(12),h(e.restaurant.rating||0),r(3),f(" ",e.getStars(e.restaurant.rating||0)," "),r(2),f("",e.restaurant.reviewCount||0," recensioni"),r(11),d("disabled",!e.canWriteReview),r(),Y(X("",e.reviewButtonIcon," me-2")),r(),f(" ",e.reviewButtonText," "),r(5),d("ngIf",e.userReview),r(),d("ngIf",e.reviewsLoading),r(),d("ngIf",e.reviewsError),r(),d("ngIf",e.reviews.length>0&&!e.reviewsLoading),r(),d("ngIf",e.reviews.length===0&&!e.reviewsLoading&&!e.reviewsError),r(),d("ngIf",e.shouldShowFixedBottom),r(),d("ngIf",e.isPhotoModalOpen),r(),d("ngIf",e.isMenuModalOpen),r(),d("ngIf",e.isReviewsModalOpen),r(),d("isOpen",e.isAuthModalOpen),r(),d("restaurant",e.restaurant)("editingReview",e.editingReview)("isOpen",e.isReviewModalOpen),r(),d("restaurant",e.restaurant)("isOpen",e.isBookingModalOpen)}}var ue=class i{constructor(n,e,l,s,_,P,w,T,Dt){this.route=n;this.router=e;this.restaurantService=l;this.photoService=s;this.menuItemService=_;this.uploadService=P;this.reviewService=w;this.authService=T;this.cdr=Dt}restaurant=null;photos=[];menuItems=[];menuHighlights=[];heroImageUrl="";currentPhotoIndex=0;reviews=[];userReview=null;reviewsLoading=!1;reviewsError=null;isMenuModalOpen=!1;isAuthModalOpen=!1;isReviewModalOpen=!1;isBookingModalOpen=!1;isPhotoModalOpen=!1;isReviewsModalOpen=!1;touchStartX=0;touchEndX=0;minSwipeDistance=50;menuByCategory=[];menuHighlightsByCategory=[];editingReview=null;loading=!0;photosLoading=!0;menuLoading=!0;error=null;photosError=null;menuError=null;restaurantId=null;availableDates=[{label:"Oggi",date:new Date,discount:"-20%"},{label:"Domani",date:new Date(Date.now()+864e5),discount:"-20%"},{label:"Sab 06 Lug",date:new Date(Date.now()+2*864e5),discount:"-20%"},{label:"Dom 07 Lug",date:new Date(Date.now()+3*864e5),discount:"-20%"}];strengthsFromReviews=["Qualit\xE0 degli ingredienti","Servizio attento","Atmosfera accogliente","Ottimo rapporto qualit\xE0-prezzo"];ngOnInit(){this.route.params.subscribe(n=>{this.restaurantId=+n.id,this.restaurantId&&this.loadRestaurantDetail()}),setTimeout(()=>{this.checkBootstrapAvailability()?this.initializeTooltips():console.warn("\u26A0\uFE0F Bootstrap non disponibile - tooltip disabilitati")},500)}ngOnDestroy(){this.destroyTooltips()}loadRestaurantDetail(){this.restaurantId&&(this.loading=!0,this.error=null,this.restaurantService.getRestaurantById(this.restaurantId).subscribe({next:n=>{console.log("\u2705 Dettaglio ristorante caricato:",n),this.restaurant=n,this.loading=!1,this.loadPhotos(),this.loadMenuItems(),this.loadReviews(),console.log("\u{1F527} DEBUG - loading:",this.loading,"restaurant:",this.restaurant),this.cdr.detectChanges(),this.initializeTooltips()},error:n=>{console.error("\u274C Errore caricamento dettaglio:",n),this.error="Errore nel caricamento del ristorante.",this.loading=!1,this.cdr.detectChanges()}}))}loadReviews(){this.restaurantId&&(this.reviewsLoading=!0,this.reviewsError=null,this.reviewService.getReviewsByRestaurant(this.restaurantId).subscribe({next:n=>{console.log("\u2B50 Review caricate:",n),this.reviews=n,this.checkUserReview(),this.reviewsLoading=!1,this.cdr.detectChanges()},error:n=>{console.error("\u274C Errore caricamento review:",n),this.reviewsError="Errore nel caricamento delle recensioni.",this.reviewsLoading=!1,this.cdr.detectChanges()}}))}checkUserReview(){let n=this.authService.currentUser();n&&this.reviews.length>0&&(this.userReview=this.reviews.find(e=>e.customer.id===n.userId)||null,console.log("\u{1F464} Review utente corrente:",this.userReview?"Trovata":"Non trovata"))}openReviewModal(){if(!this.authService.currentUser()){console.log("\u{1F512} Login richiesto per scrivere review"),this.openAuthModal();return}if(!this.authService.isCustomer()){console.log("\u{1F6AB} Solo i customer possono scrivere review");return}this.editingReview=this.userReview,this.isReviewModalOpen=!0,console.log("\u{1F4DD} Apertura modal review:",{mode:this.userReview?"modifica":"nuova",restaurant:this.restaurant?.name})}closeReviewModal(){console.log("\u274C Chiusura modal review"),this.isReviewModalOpen=!1,this.editingReview=null}onReviewSubmitted(n){console.log("\u2705 Review sottomessa:",n),this.loadReviews(),this.restaurantId&&this.restaurantService.getRestaurantById(this.restaurantId).subscribe({next:e=>{this.restaurant=e,console.log("\u{1F504} Ristorante aggiornato con nuovo rating:",e.rating),this.cdr.detectChanges()}})}bookTable(){if(console.log("\u{1F504} bookTable() chiamato"),console.log("\u{1F4CA} Stato canBook:",this.canBook),console.log("\u{1F4CA} Stato isAuthModalOpen:",this.isAuthModalOpen),!this.canBook){console.log("\u{1F6AB} Utente non autorizzato - mostro modal login"),this.showLoginModal();return}console.log("\u2705 Utente autorizzato - apro modal prenotazione"),this.isBookingModalOpen=!0}openBookingModal(n){this.canBook&&(console.log("\u{1F4C5} Apri modal prenotazione:",n??"tutte le date"),this.isBookingModalOpen=!0)}closeBookingModal(){this.isBookingModalOpen=!1}onBookingConfirmed(n){console.log("\u2705 Prenotazione confermata:",n),this.closeBookingModal()}onDateClick(n){if(!this.canBook){console.log("\u{1F6AB} Click ignorato - utente non autorizzato");return}this.openBookingModal(n)}showLoginModal(){console.log("\u{1F510} Apertura modal login direttamente..."),this.openAuthModal()}showLoginModalWithSwal(){console.log("\u{1F510} Apertura modal login con SweetAlert2..."),_e.default.fire({title:"\u{1F510} Accesso Richiesto",html:`
        <div class="text-center">
          <div class="mb-3">
            <i class="fas fa-user-lock fa-3x text-primary mb-3"></i>
          </div>
          <p class="mb-2">Per prenotare un tavolo devi essere registrato come <strong>cliente</strong>.</p>
          <p class="text-muted small">Effettua il login per accedere a tutte le funzionalit\xE0 di prenotazione.</p>
        </div>
      `,icon:void 0,showCancelButton:!0,confirmButtonText:"\u{1F680} Accedi ora",cancelButtonText:"\u274C Annulla",confirmButtonColor:"#28a745",cancelButtonColor:"#6c757d",buttonsStyling:!1,allowOutsideClick:!0,allowEscapeKey:!0}).then(n=>{n.isConfirmed?(console.log("\u{1F504} Utente ha confermato - apro modal auth..."),this.openAuthModal()):console.log("\u274C Login annullato dall'utente")})}openAuthModal(){console.log("\u{1F510} Apertura modal auth - isAuthModalOpen diventa true"),this.isAuthModalOpen=!0,console.log("\u2705 isAuthModalOpen settato a:",this.isAuthModalOpen)}closeAuthModal(){console.log("\u{1F512} Chiusura modal auth - isAuthModalOpen diventa false"),this.isAuthModalOpen=!1,console.log("\u2705 isAuthModalOpen settato a:",this.isAuthModalOpen)}onAuthSuccess(){console.log("\u2705 Autenticazione completata - inizio processo..."),this.closeAuthModal(),setTimeout(()=>{console.log("\u{1F504} Refresh tooltip e check canBook..."),console.log("\u{1F4CA} Stato canBook dopo login:",this.canBook),this.refreshTooltips(),this.canBook?(console.log("\u{1F389} Utente ora pu\xF2 prenotare - apro modal prenotazione"),this.isBookingModalOpen=!0):console.log("\u26A0\uFE0F Utente ancora non pu\xF2 prenotare dopo login")},300)}initializeTooltips(){this.canBook||setTimeout(()=>{this.destroyTooltips(),Array.from(document.querySelectorAll('[data-bs-toggle="tooltip"]')).forEach(e=>{try{new window.bootstrap.Tooltip(e,{trigger:"hover focus",delay:{show:200,hide:100},animation:!0,html:!1,placement:"top",customClass:"custom-booking-tooltip"}),console.log("\u2705 Tooltip inizializzato per:",e)}catch(l){console.warn("\u26A0\uFE0F Errore inizializzazione tooltip:",l)}})},150)}destroyTooltips(){try{document.querySelectorAll('[data-bs-toggle="tooltip"]').forEach(e=>{let l=window.bootstrap?.Tooltip?.getInstance(e);l&&l.dispose()})}catch(n){console.warn("\u26A0\uFE0F Errore durante cleanup tooltip:",n)}}checkBootstrapAvailability(){return typeof window.bootstrap<"u"&&typeof window.bootstrap.Tooltip<"u"}refreshTooltips(){this.destroyTooltips(),setTimeout(()=>{this.initializeTooltips()},100)}loadPhotos(){this.restaurantId&&(this.photosLoading=!0,this.photosError=null,this.photoService.getPhotosByRestaurant(this.restaurantId).subscribe({next:n=>{console.log("\u{1F4F8} Foto caricate:",n),this.photos=n,n.length>0&&(this.heroImageUrl=this.uploadService.getImageUrl(n[0].fileName)),this.photosLoading=!1,this.cdr.detectChanges()},error:n=>{console.error("\u274C Errore caricamento foto:",n),this.photosError="Errore nel caricamento delle foto.",this.photosLoading=!1,this.cdr.detectChanges()}}))}nextPhoto(){this.photos.length>0&&(this.currentPhotoIndex=(this.currentPhotoIndex+1)%this.photos.length,this.heroImageUrl=this.uploadService.getImageUrl(this.photos[this.currentPhotoIndex].fileName))}previousPhoto(){this.photos.length>0&&(this.currentPhotoIndex=this.currentPhotoIndex===0?this.photos.length-1:this.currentPhotoIndex-1,this.heroImageUrl=this.uploadService.getImageUrl(this.photos[this.currentPhotoIndex].fileName))}openPhotoModal(){console.log("\u{1F4F8} Apri modal foto"),this.isPhotoModalOpen=!0,document.body.classList.add("modal-open")}closePhotoModal(){console.log("\u274C Chiudi modal foto"),this.isPhotoModalOpen=!1,document.body.classList.remove("modal-open")}nextPhotoModal(){this.nextPhoto()}previousPhotoModal(){this.previousPhoto()}onPhotoLoaded(){console.log("\u2705 Foto caricata nel modal")}onPhotoError(){console.error("\u274C Errore caricamento foto nel modal")}loadMenuItems(){this.restaurantId&&(this.menuLoading=!0,this.menuError=null,this.menuItemService.getMenuItemsByRestaurant(this.restaurantId).subscribe({next:n=>{console.log("\u{1F37D}\uFE0F Menu items caricati:",n),this.menuItems=n,this.organizeMenuByCategory(),this.createMenuHighlights(),this.menuLoading=!1,this.cdr.detectChanges()},error:n=>{console.error("\u274C Errore caricamento menu:",n),this.menuError="Errore nel caricamento del menu.",this.menuLoading=!1,this.cdr.detectChanges()}}))}organizeMenuByCategory(){let n=new Map;this.menuItems.forEach(e=>{let l=e.category||"Altri piatti";n.has(l)||n.set(l,[]),n.get(l).push(e)}),this.menuByCategory=Array.from(n.entries()).map(([e,l])=>({category:e,items:l.sort((s,_)=>s.name.localeCompare(_.name))})).sort((e,l)=>e.category.localeCompare(l.category))}createMenuHighlights(){this.menuHighlightsByCategory=this.menuByCategory.map(n=>({category:n.category,items:n.items.slice(0,2)})).filter(n=>n.items.length>0)}openMenuModal(){console.log("\u{1F4CB} Apri modal menu"),this.isMenuModalOpen=!0,document.body.classList.add("menu-modal-open")}closeMenuModal(){console.log("\u274C Chiudi modal menu"),this.isMenuModalOpen=!1,document.body.classList.remove("menu-modal-open")}viewFullMenu(){console.log("\u{1F4CB} Visualizza men\xF9 completo"),this.openMenuModal()}goBack(){this.router.navigate(["/"])}toggleFavorite(){console.log("\u{1F496} Toggle preferito per ristorante:",this.restaurantId)}shareRestaurant(){console.log("\u{1F4E4} Condividi ristorante:",this.restaurantId)}selectDate(n){console.log("\u{1F4C5} Data selezionata:",n),this.openBookingModal(n)}getStars(n){if(!n||n===0)return"\u2B50";let e=Math.floor(n),l=n%1>=.5,s="\u2B50".repeat(e);return l&&e<5&&(s+="\u2B50"),s||"\u2B50"}getPriceRange(){if(this.menuItems.length>0){let n=this.menuItems.map(l=>l.price),e=n.reduce((l,s)=>l+s,0)*3/n.length;return`${Math.round(e)} \u20AC`}return"25 \u20AC"}onKeyDown(n){if(this.isPhotoModalOpen)switch(n.key){case"Escape":this.closePhotoModal();break;case"ArrowLeft":this.photoCount>1&&this.previousPhotoModal();break;case"ArrowRight":this.photoCount>1&&this.nextPhotoModal();break}if(this.isMenuModalOpen)switch(n.key){case"Escape":this.closeMenuModal();break}if(this.isReviewModalOpen)switch(n.key){case"Escape":this.closeReviewModal();break}if(this.isAuthModalOpen)switch(n.key){case"Escape":this.closeAuthModal();break}if(this.isReviewsModalOpen)switch(n.key){case"Escape":this.closeReviewsModal();break}}get hasPhotos(){return this.photos.length>0}get photoCount(){return this.photos.length}get hasMenuItems(){return this.menuHighlights.length>0}get currentPhotoUrl(){return this.heroImageUrl||""}get hasMenuHighlights(){return this.menuHighlightsByCategory.length>0}get canBook(){let n=this.authService.currentUser(),e=n?this.authService.isCustomer():!1,l=!!n&&e;return console.log("\u{1F50D} canBook check:",{hasUser:!!n,isCustomer:e,result:l}),l}get canWriteReview(){return!!(this.authService.currentUser()&&this.authService.isCustomer())}get reviewButtonText(){return this.canWriteReview?this.userReview?"Modifica la tua Recensione":"Scrivi una Recensione":"Accedi per Recensire"}get reviewButtonIcon(){return this.userReview?"fas fa-edit":"fas fa-star"}get shouldShowTooltip(){return!this.canBook}get tooltipMessage(){return"Devi essere loggato per effettuare una prenotazione"}get shouldShowFixedBottom(){return!this.isBookingModalOpen&&!this.isPhotoModalOpen&&!this.isMenuModalOpen&&!this.isReviewModalOpen&&!this.isAuthModalOpen&&!this.isReviewsModalOpen}openReviewsModal(){console.log("\u2B50 Apri modal recensioni complete"),this.isReviewsModalOpen=!0,document.body.classList.add("reviews-modal-open")}closeReviewsModal(){console.log("\u274C Chiudi modal recensioni"),this.isReviewsModalOpen=!1,document.body.classList.remove("reviews-modal-open")}viewAllReviews(){console.log("\u2B50 Visualizza tutte le recensioni"),this.openReviewsModal()}onTouchStart(n){this.touchStartX=n.touches[0].clientX}onTouchEnd(n){this.touchEndX=n.changedTouches[0].clientX,this.handleSwipe()}handleSwipe(){let n=this.touchStartX-this.touchEndX;Math.abs(n)>this.minSwipeDistance&&(n>0?this.nextPhoto():this.previousPhoto())}onModalTouchStart(n){this.touchStartX=n.touches[0].clientX}onModalTouchEnd(n){this.touchEndX=n.changedTouches[0].clientX,this.handleModalSwipe()}handleModalSwipe(){let n=this.touchStartX-this.touchEndX;Math.abs(n)>this.minSwipeDistance&&(n>0?this.nextPhotoModal():this.previousPhotoModal())}static \u0275fac=function(e){return new(e||i)(C(Q),C(J),C(ce),C(me),C(pe),C(de),C(le),C(D),C(q))};static \u0275cmp=O({type:i,selectors:[["app-restaurant-detail"]],hostBindings:function(e,l){e&1&&u("keydown",function(_){return l.onKeyDown(_)},H)},decls:3,vars:3,consts:[["class","container-xl py-5",4,"ngIf"],["class","restaurant-detail",4,"ngIf"],[1,"container-xl","py-5"],[1,"text-center"],["role","status",1,"spinner-border","text-primary","mb-3"],[1,"visually-hidden"],[1,"fs-5"],["role","alert",1,"alert","alert-danger","text-center"],[1,"alert-heading"],[1,"mb-3"],[1,"btn","btn-outline-danger",3,"click"],[1,"restaurant-detail"],[1,"hero-section","position-relative"],[1,"hero-image","d-flex","align-items-center","justify-content-center","text-white","position-relative"],["class","hero-photo-container w-100 h-100 position-relative",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"position-absolute","top-0","start-0","end-0","p-3"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-dark","btn-lg","rounded-circle",3,"click"],[1,"fas","fa-arrow-left"],[1,"d-flex","gap-2"],[1,"fas","fa-heart"],[1,"fas","fa-share-alt"],[1,"restaurant-info","bg-dark","text-white","py-4"],[1,"container-xl"],[1,"display-6","fw-bold","mb-3"],[1,"d-flex","align-items-center","mb-4"],[1,"fas","fa-map-marker-alt","text-success","me-2"],[1,"d-flex","flex-wrap","gap-2","mb-4"],[1,"badge","bg-secondary","px-3","py-2","rounded-pill"],["class","badge bg-secondary px-3 py-2 rounded-pill",4,"ngIf"],[1,"fas","fa-euro-sign","me-2"],[1,"fw-semibold"],[1,"text-center","py-4"],[1,"d-flex","align-items-center","justify-content-center","mb-2"],[1,"fas","fa-utensils","text-success","me-2","fs-4"],[1,"display-4","fw-bold"],[1,"text-warning","mb-2"],[1,"text-muted"],["class","mt-4",4,"ngIf"],["class","strengths-section bg-dark text-white py-4",4,"ngIf"],[1,"discount-banner","bg-secondary","py-3"],[1,"d-flex","align-items-center","text-white"],[1,"bg-white","text-dark","rounded-circle","p-2","me-3"],[1,"fas","fa-percentage"],[1,"booking-section","bg-dark","text-white","py-4"],[1,"d-flex","align-items-center","mb-3"],[1,"fas","fa-utensils","text-success","me-2"],[1,"h5","mb-0"],[1,"row","g-3","mb-4"],["class","col-6 col-md-3",4,"ngFor","ngForOf"],[1,"text-end"],[1,"d-inline-block","position-relative"],["class","link-overlay d-flex align-items-center justify-content-center",4,"ngIf"],[1,"btn","btn-link","text-success","text-decoration-none","p-0",3,"click"],[1,"fas","fa-chevron-right"],[1,"menu-section","bg-dark","text-white","py-5"],[1,"h3","mb-4"],[1,"badge","bg-light","text-dark","mb-4"],["class","text-center py-4",4,"ngIf"],["class","alert alert-warning","role","alert",4,"ngIf"],[1,"d-flex","align-items-center","mb-4","pb-3","border-bottom","border-secondary"],[1,"fas","fa-euro-sign","me-3"],[4,"ngIf"],[1,"text-center","mt-4"],[1,"btn","btn-outline-success","btn-lg","w-100",3,"click"],[1,"reviews-section","bg-dark","text-white","py-5"],[1,"fas","fa-utensils","text-success","me-3","fs-4"],[1,"display-6","fw-bold","me-3"],[1,"text-warning","mb-1"],[1,"alert","alert-dark","border","border-success","mb-4"],[1,"d-flex","align-items-center"],[1,"fas","fa-check-circle","text-success","me-3"],[1,"col-md-6"],[1,"btn","btn-success","btn-lg","w-100",3,"click","disabled"],[1,"fas","fa-list","me-2"],["class","alert alert-info mb-4",4,"ngIf"],["class","fixed-bottom p-3 bg-dark border-top border-secondary",4,"ngIf"],["class","photo-modal-overlay",3,"click",4,"ngIf"],["class","menu-modal-overlay",3,"click",4,"ngIf"],["class","reviews-modal-overlay",3,"click",4,"ngIf"],[3,"closeModal","authSuccess","isOpen"],[3,"closeModal","reviewSubmitted","restaurant","editingReview","isOpen"],[3,"closeModal","bookingConfirmed","restaurant","isOpen"],[1,"hero-photo-container","w-100","h-100","position-relative"],[1,"hero-photo","w-100","h-100","object-fit-cover",2,"cursor","pointer","touch-action","pan-y",3,"click","touchstart","touchend","src","alt"],["class","btn btn-dark btn-sm position-absolute top-50 start-0 translate-middle-y ms-3 rounded-circle",3,"click",4,"ngIf"],["class","btn btn-dark btn-sm position-absolute top-50 end-0 translate-middle-y me-3 rounded-circle",3,"click",4,"ngIf"],[1,"position-absolute","bottom-0","start-50","translate-middle-x","mb-3"],[1,"badge","bg-opacity-75","px-3","py-2"],[1,"btn","btn-dark","btn-sm","position-absolute","top-50","start-0","translate-middle-y","ms-3","rounded-circle",3,"click"],[1,"fas","fa-chevron-left"],[1,"btn","btn-dark","btn-sm","position-absolute","top-50","end-0","translate-middle-y","me-3","rounded-circle",3,"click"],[1,"fs-1","mb-2"],[1,"badge","bg-dark","bg-opacity-75","px-3","py-2"],[1,"mt-4"],[1,"h5","mb-3"],[1,"strengths-section","bg-dark","text-white","py-4"],[1,"row"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12"],[1,"d-flex","align-items-center","mb-2"],[1,"fas","fa-check","text-success","me-3"],[1,"col-6","col-md-3"],[1,"date-button-container","position-relative"],["class","date-overlay d-flex align-items-center justify-content-center",4,"ngIf"],[1,"btn","btn-outline-success","w-100","position-relative","date-btn",3,"click"],[1,"badge","bg-success","position-absolute","top-0","end-0","translate-middle"],[1,"date-overlay","d-flex","align-items-center","justify-content-center"],[1,"fas","fa-ban","text-danger","fs-3"],[1,"link-overlay","d-flex","align-items-center","justify-content-center"],[1,"fas","fa-ban","text-danger","fs-5"],["role","alert",1,"alert","alert-warning"],[1,"mb-0"],["class","mb-4",4,"ngFor","ngForOf"],[1,"mb-4"],[1,"h6","text-success","mb-2"],[1,"menu-items"],["class","d-flex justify-content-between align-items-center py-2 border-bottom border-secondary",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center","py-2","border-bottom","border-secondary"],[1,"fw-medium"],[1,"alert","alert-info","mb-4"],[1,"fas","fa-star","text-warning","me-3"],[1,"h6","mb-3"],[1,"row","g-3"],["class","col-md-6",4,"ngFor","ngForOf"],["class","text-center mt-4",4,"ngIf"],[1,"review-preview-card","bg-secondary","rounded","p-3"],[1,"review-avatar","me-2"],[1,"fas","fa-user-circle","fs-4","text-primary"],[1,"ms-auto"],[1,"badge","bg-success"],["class","mb-0 small",4,"ngIf"],["class","text-muted small mt-2",4,"ngIf"],[1,"mb-0","small"],[1,"text-muted","small","mt-2"],[1,"btn","btn-outline-primary",3,"click"],[1,"text-muted","mb-4"],[1,"btn","btn-success","btn-lg",3,"click","disabled"],[1,"fas","fa-star","me-2"],[1,"fixed-bottom","p-3","bg-dark","border-top","border-secondary"],[1,"btn","btn-lg","w-100","fw-bold",3,"click"],[1,"photo-modal-overlay",3,"click"],[1,"photo-modal-container",3,"click"],[1,"photo-modal-close",3,"click"],[1,"fas","fa-times"],[1,"photo-modal-image",2,"touch-action","pan-y",3,"load","error","touchstart","touchend","src","alt"],["class","photo-modal-nav",4,"ngIf"],["class","photo-modal-counter",4,"ngIf"],[1,"photo-modal-info"],[1,"photo-modal-title"],[1,"photo-modal-subtitle"],[1,"photo-modal-nav"],[1,"photo-modal-prev",3,"click"],[1,"photo-modal-next",3,"click"],[1,"photo-modal-counter"],[1,"menu-modal-overlay",3,"click"],[1,"menu-modal-container",3,"click"],[1,"menu-modal-close",3,"click"],[1,"menu-modal-header"],[1,"menu-modal-title"],[1,"menu-modal-subtitle"],[1,"menu-modal-content"],["class","menu-category-group",4,"ngFor","ngForOf"],[1,"menu-category-group"],[1,"menu-category-title"],[1,"menu-items-list"],["class","menu-item",4,"ngFor","ngForOf"],[1,"menu-item"],[1,"menu-item-header"],[1,"menu-item-name"],[1,"menu-item-price"],[1,"reviews-modal-overlay",3,"click"],[1,"reviews-modal-container",3,"click"],[1,"reviews-modal-close",3,"click"],[1,"reviews-modal-header"],[1,"reviews-modal-title"],[1,"reviews-modal-subtitle"],[1,"reviews-modal-content"],["class","reviews-list",4,"ngIf"],["class","text-center py-5",4,"ngIf"],[1,"reviews-list"],["class","review-item",4,"ngFor","ngForOf"],[1,"review-item"],[1,"review-header"],[1,"review-user-info"],[1,"review-avatar"],[1,"fas","fa-user-circle"],[1,"review-user-details"],[1,"review-user-name"],[1,"review-date"],[1,"review-rating-badge"],[1,"review-rating-value"],["class","review-content",4,"ngIf"],["class","review-no-comment",4,"ngIf"],[1,"review-content"],[1,"review-text"],[1,"review-no-comment"],[1,"text-center","py-5"],[1,"empty-reviews-icon"],[1,"empty-reviews-title"]],template:function(e,l){e&1&&v(0,Le,7,0,"div",0)(1,Ue,8,1,"div",0)(2,It,126,51,"div",1),e&2&&(d("ngIf",l.loading),r(),d("ngIf",l.error&&!l.loading),r(),d("ngIf",l.restaurant&&!l.loading))},dependencies:[I,S,E,K,Z,R,se,ge],styles:['.restaurant-detail[_ngcontent-%COMP%]{padding-bottom:100px;background-color:var(--bg-color);color:var(--text-color)}.hero-section[_ngcontent-%COMP%]{height:300px;overflow:hidden}.hero-image[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:#0000004d}.hero-image[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;z-index:2}.restaurant-info[_ngcontent-%COMP%], .strengths-section[_ngcontent-%COMP%]{background-color:var(--bg-color)!important;color:var(--text-color)!important}.discount-banner[_ngcontent-%COMP%]{background-color:var(--bg-secondary)!important;color:var(--text-color)!important}.booking-section[_ngcontent-%COMP%], .menu-section[_ngcontent-%COMP%], .reviews-section[_ngcontent-%COMP%]{background-color:var(--bg-color)!important;color:var(--text-color)!important}.bg-dark[_ngcontent-%COMP%]{background-color:var(--bg-color)!important}.bg-secondary[_ngcontent-%COMP%]{background-color:var(--bg-secondary)!important}.text-white[_ngcontent-%COMP%]{color:var(--text-color)!important}.text-muted[_ngcontent-%COMP%]{color:var(--text-muted)!important}.border-secondary[_ngcontent-%COMP%]{border-color:var(--border-color)!important}.btn-outline-success[_ngcontent-%COMP%]{border-color:var(--primary-color)!important;color:var(--primary-color)!important;background-color:transparent!important}.btn-outline-success[_ngcontent-%COMP%]:hover, .btn-success[_ngcontent-%COMP%]{background-color:var(--primary-color)!important;border-color:var(--primary-color)!important;color:#fff!important}.btn-success[_ngcontent-%COMP%]:hover{background-color:var(--primary-dark)!important;border-color:var(--primary-dark)!important}.btn-dark[_ngcontent-%COMP%]{background-color:#00000080!important;border-color:#00000080!important;color:#fff!important}.btn-dark[_ngcontent-%COMP%]:hover{background-color:#000000b3!important;border-color:#000000b3!important}.badge.bg-light[_ngcontent-%COMP%]{background-color:var(--card-bg)!important;color:var(--text-color)!important;border:1px solid var(--border-color)!important}.badge.bg-secondary[_ngcontent-%COMP%]{background-color:var(--bg-secondary)!important;color:var(--text-color)!important}.badge.bg-success[_ngcontent-%COMP%]{background-color:var(--primary-color)!important;color:#fff!important}.alert-dark[_ngcontent-%COMP%]{background-color:var(--bg-secondary)!important;border-color:var(--border-color)!important;color:var(--text-color)!important}.alert-dark[_ngcontent-%COMP%]   .border-success[_ngcontent-%COMP%]{border-color:var(--primary-color)!important}.review-card[_ngcontent-%COMP%]{background-color:var(--bg-secondary)!important;border-left:4px solid var(--primary-color)!important;color:var(--text-color)!important}.fixed-bottom[_ngcontent-%COMP%]{background-color:var(--bg-color)!important;border-top:1px solid var(--border-color)!important;box-shadow:0 -4px 20px #0000001a}.menu-items[_ngcontent-%COMP%]   .border-bottom[_ngcontent-%COMP%]{border-bottom-color:var(--border-color)!important}.text-success[_ngcontent-%COMP%], .fas.fa-check[_ngcontent-%COMP%], .fas.fa-utensils[_ngcontent-%COMP%], .fas.fa-map-marker-alt[_ngcontent-%COMP%], .fas.fa-euro-sign[_ngcontent-%COMP%], .fas.fa-chef-hat[_ngcontent-%COMP%], .fas.fa-check-circle[_ngcontent-%COMP%], .text-success.text-decoration-none[_ngcontent-%COMP%]{color:var(--primary-color)!important}.text-success.text-decoration-none[_ngcontent-%COMP%]:hover{color:var(--primary-dark)!important}@media (max-width: 768px){.hero-section[_ngcontent-%COMP%]{height:250px}.display-6[_ngcontent-%COMP%]{font-size:1.5rem}}.restaurant-detail[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.restaurant-detail[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{transition:background-color .3s ease,color .3s ease,border-color .3s ease}[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--bg-color)}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--primary-color);border-radius:2px}.hero-photo-container[_ngcontent-%COMP%]{position:relative;overflow:hidden}.hero-photo[_ngcontent-%COMP%]{object-fit:cover;transition:transform .3s ease}.hero-photo[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.hero-photo-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:#0009!important;border:none!important;color:#fff!important;width:40px;height:40px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);transition:all .3s ease}.hero-photo-container[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);font-size:.8rem}.hero-image.loading[_ngcontent-%COMP%]{background:linear-gradient(90deg,var(--bg-secondary) 25%,var(--border-color) 50%,var(--bg-secondary) 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading-shimmer 1.5s infinite}@keyframes _ngcontent-%COMP%_loading-shimmer{0%{background-position:200% 0}to{background-position:-200% 0}}.menu-items[_ngcontent-%COMP%]   .border-bottom[_ngcontent-%COMP%]:last-child{border-bottom:none!important}.menu-items[_ngcontent-%COMP%]   .fw-medium[_ngcontent-%COMP%]{color:var(--text-color)!important}.menu-items[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{color:var(--text-muted)!important}@media (max-width: 768px){.hero-photo-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:35px;height:35px;font-size:.8rem}.hero-photo-container[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.7rem;padding:.25rem .5rem}}.hero-photo[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInPhoto .5s ease-out}@keyframes _ngcontent-%COMP%_fadeInPhoto{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.restaurant-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.6;color:var(--text-light)!important}.menu-section[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{color:var(--primary-color)!important}.menu-items[_ngcontent-%COMP%]{background-color:var(--bg-secondary);border-radius:.5rem;padding:1rem;margin-bottom:1rem}.menu-items[_ngcontent-%COMP%]   .border-bottom[_ngcontent-%COMP%]{border-bottom-color:var(--border-color)!important;padding:.75rem 0}.menu-items[_ngcontent-%COMP%]   .border-bottom[_ngcontent-%COMP%]:hover{background-color:var(--bg-color);margin:0 -1rem;padding:.75rem 1rem;border-radius:.25rem;transition:all .3s ease}.alert-warning[_ngcontent-%COMP%]{background-color:#ffc1071a!important;border-color:#ffc10733!important;color:#ffc107!important}.menu-section[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]   .fs-1[_ngcontent-%COMP%]{opacity:.6}.reviews-section[_ngcontent-%COMP%]   .display-6[_ngcontent-%COMP%]{color:var(--primary-color)!important}.reviews-section[_ngcontent-%COMP%]   .text-warning[_ngcontent-%COMP%]{filter:drop-shadow(0 1px 2px rgba(0,0,0,.1))}.restaurant-info[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500}.restaurant-info[_ngcontent-%COMP%]   .badge.bg-secondary[_ngcontent-%COMP%]{background-color:var(--bg-secondary)!important;color:var(--text-light)!important;border:1px solid var(--border-color)}.hero-photo-container[_ngcontent-%COMP%]   .btn-sm[_ngcontent-%COMP%]{opacity:.8;transition:all .3s ease}.hero-photo-container[_ngcontent-%COMP%]:hover   .btn-sm[_ngcontent-%COMP%]{opacity:1}.restaurant-detail[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{transition:background-color .3s ease,color .3s ease,border-color .3s ease,opacity .3s ease}.hero-photo-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .hero-photo-container[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{z-index:10}.hero-image[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{background:var(--primary-gradient);color:#fff;opacity:.9}.menu-items[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .3s ease-out;animation-fill-mode:both}.menu-items[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.menu-items[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.menu-items[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.menu-items[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 576px){.restaurant-info[_ngcontent-%COMP%]   .display-6[_ngcontent-%COMP%]{font-size:1.5rem}.restaurant-info[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.7rem;padding:.25rem .5rem}.menu-items[_ngcontent-%COMP%]{padding:.75rem}.hero-photo-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:30px;height:30px;font-size:.7rem}}.hero-section[_ngcontent-%COMP%]{height:400px;overflow:hidden}.hero-image[_ngcontent-%COMP%]{height:100%;background:linear-gradient(135deg,var(--primary-color) 0%,var(--primary-dark) 100%);background-size:cover;background-position:center;position:relative}.hero-photo-container[_ngcontent-%COMP%]{position:relative;overflow:hidden;height:100%}.hero-photo[_ngcontent-%COMP%]{object-fit:cover;transition:transform .3s ease;height:100%;width:100%}@media (min-width: 1200px){.hero-section[_ngcontent-%COMP%]{height:500px}}@media (min-width: 992px) and (max-width: 1199px){.hero-section[_ngcontent-%COMP%]{height:450px}}@media (min-width: 768px) and (max-width: 991px){.hero-section[_ngcontent-%COMP%]{height:350px}}@media (max-width: 767px){.hero-section[_ngcontent-%COMP%]{height:250px}}.hero-photo-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:#0009!important;border:none!important;color:#fff!important;width:50px;height:50px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);transition:all .3s ease;font-size:1.1rem}.hero-photo-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#000c!important;transform:scale(1.1)}.hero-photo-container[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);font-size:1rem;padding:.5rem 1rem}@media (max-width: 768px){.hero-photo-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:35px;height:35px;font-size:.9rem}.hero-photo-container[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.8rem;padding:.35rem .7rem}}@media (max-width: 576px){.hero-photo-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:30px;height:30px;font-size:.7rem}.hero-photo-container[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.7rem;padding:.25rem .5rem}}.hero-image[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{background:var(--primary-gradient);color:#fff;opacity:.9;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.hero-image[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]   .fs-1[_ngcontent-%COMP%]{font-size:4rem!important}@media (max-width: 768px){.hero-image[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]   .fs-1[_ngcontent-%COMP%]{font-size:3rem!important}}@media (max-width: 576px){.hero-image[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]   .fs-1[_ngcontent-%COMP%]{font-size:2rem!important}}.photo-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#000000f2;z-index:9999;display:flex;align-items:center;justify-content:center;padding:20px;cursor:pointer}.photo-modal-container[_ngcontent-%COMP%]{position:relative;max-width:90vw;max-height:90vh;display:flex;align-items:center;justify-content:center;cursor:default}.photo-modal-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain;border-radius:8px;box-shadow:0 20px 60px #00000080;transition:transform .3s ease}.photo-modal-close[_ngcontent-%COMP%]{position:absolute;top:-50px;right:-10px;background:#ffffff1a;border:none;color:#fff;font-size:1.5rem;width:40px;height:40px;border-radius:50%;cursor:pointer;transition:all .3s ease;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);z-index:10}.photo-modal-close[_ngcontent-%COMP%]:hover{background:#fff3;transform:scale(1.1)}.photo-modal-nav[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;right:0;transform:translateY(-50%);display:flex;justify-content:space-between;pointer-events:none}.photo-modal-prev[_ngcontent-%COMP%], .photo-modal-next[_ngcontent-%COMP%]{background:#ffffff1a;border:none;color:#fff;font-size:1.5rem;width:60px;height:60px;border-radius:50%;cursor:pointer;transition:all .3s ease;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);pointer-events:auto}.photo-modal-prev[_ngcontent-%COMP%]:hover, .photo-modal-next[_ngcontent-%COMP%]:hover{background:#fff3;transform:scale(1.1)}.photo-modal-prev[_ngcontent-%COMP%]{margin-left:-80px}.photo-modal-next[_ngcontent-%COMP%]{margin-right:-80px}.photo-modal-counter[_ngcontent-%COMP%]{position:absolute;bottom:-60px;left:50%;transform:translate(-50%);background:#ffffff1a;color:#fff;padding:8px 16px;border-radius:20px;font-size:.9rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.photo-modal-info[_ngcontent-%COMP%]{position:absolute;bottom:-120px;left:0;right:0;text-align:center;color:#fff}.photo-modal-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:.5rem;color:#fff}.photo-modal-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#ffffffb3;margin-bottom:0}@media (max-width: 768px){.photo-modal-overlay[_ngcontent-%COMP%]{padding:10px}.photo-modal-container[_ngcontent-%COMP%]{max-width:95vw;max-height:95vh}.photo-modal-close[_ngcontent-%COMP%]{top:-40px;right:-5px;width:35px;height:35px;font-size:1.2rem}.photo-modal-prev[_ngcontent-%COMP%], .photo-modal-next[_ngcontent-%COMP%]{width:50px;height:50px;font-size:1.2rem}.photo-modal-prev[_ngcontent-%COMP%]{margin-left:-60px}.photo-modal-next[_ngcontent-%COMP%]{margin-right:-60px}.photo-modal-counter[_ngcontent-%COMP%]{bottom:-50px;font-size:.8rem;padding:6px 12px}.photo-modal-info[_ngcontent-%COMP%]{bottom:-100px}.photo-modal-title[_ngcontent-%COMP%]{font-size:1.2rem}.photo-modal-subtitle[_ngcontent-%COMP%]{font-size:.9rem}}@media (max-width: 576px){.photo-modal-prev[_ngcontent-%COMP%]{margin-left:-40px}.photo-modal-next[_ngcontent-%COMP%]{margin-right:-40px}.photo-modal-prev[_ngcontent-%COMP%], .photo-modal-next[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1rem}}@keyframes _ngcontent-%COMP%_photoModalFadeIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}.photo-modal-overlay[_ngcontent-%COMP%], .photo-modal-image[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_photoModalFadeIn .3s ease-out}.photo-modal-overlay[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;pointer-events:none}.modal-open[_ngcontent-%COMP%]{overflow:hidden}.menu-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#000000e6;z-index:9998;display:flex;align-items:center;justify-content:center;padding:20px;cursor:pointer;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.menu-modal-container[_ngcontent-%COMP%]{background-color:var(--bg-color);border:1px solid var(--border-color);border-radius:1rem;max-width:800px;width:100%;max-height:90vh;display:flex;flex-direction:column;cursor:default;box-shadow:0 20px 60px #0000004d;position:relative}.menu-modal-close[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px;background:var(--bg-secondary);border:1px solid var(--border-color);color:var(--text-color);font-size:1.2rem;width:40px;height:40px;border-radius:50%;cursor:pointer;transition:all .3s ease;z-index:10;display:flex;align-items:center;justify-content:center}.menu-modal-close[_ngcontent-%COMP%]:hover{background:var(--primary-color);color:#fff;transform:scale(1.1)}.menu-modal-header[_ngcontent-%COMP%]{padding:2rem 2rem 1rem;border-bottom:1px solid var(--border-color);text-align:center}.menu-modal-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:var(--text-color);margin-bottom:.5rem}.menu-modal-subtitle[_ngcontent-%COMP%]{color:var(--text-muted);font-size:1rem;margin-bottom:0}.menu-modal-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:1.5rem 2rem 2rem}.menu-category-group[_ngcontent-%COMP%]{margin-bottom:2rem}.menu-category-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.menu-category-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:var(--primary-color);margin-bottom:1rem;padding-bottom:.5rem;border-bottom:2px solid var(--primary-color);text-transform:uppercase;letter-spacing:1px}.menu-items-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.menu-item[_ngcontent-%COMP%]{padding:1rem 0;border-bottom:1px solid var(--border-color);transition:background-color .3s ease}.menu-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.menu-item[_ngcontent-%COMP%]:hover{background-color:var(--bg-secondary);margin:0 -1rem;padding:1rem;border-radius:.5rem}.menu-item-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:start;margin-bottom:.5rem}.menu-item-name[_ngcontent-%COMP%]{font-weight:600;color:var(--text-color);font-size:1.1rem;line-height:1.3;flex:1;padding-right:1rem}.menu-item-price[_ngcontent-%COMP%]{font-weight:700;color:var(--primary-color);font-size:1.1rem;white-space:nowrap}.menu-item-description[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.9rem;line-height:1.4;margin:0;font-style:italic}.menu-modal-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.menu-modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--bg-secondary);border-radius:3px}.menu-modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--primary-color);border-radius:3px}.menu-modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--primary-dark)}@media (max-width: 768px){.menu-modal-overlay[_ngcontent-%COMP%]{padding:10px}.menu-modal-container[_ngcontent-%COMP%]{max-height:95vh}.menu-modal-header[_ngcontent-%COMP%]{padding:1.5rem 1.5rem 1rem}.menu-modal-title[_ngcontent-%COMP%]{font-size:1.5rem}.menu-modal-content[_ngcontent-%COMP%]{padding:1rem 1.5rem 1.5rem}.menu-category-title[_ngcontent-%COMP%]{font-size:1.1rem}.menu-item-header[_ngcontent-%COMP%]{flex-direction:column;align-items:start;gap:.25rem}.menu-item-name[_ngcontent-%COMP%]{padding-right:0}.menu-item-price[_ngcontent-%COMP%]{align-self:flex-end}.menu-modal-close[_ngcontent-%COMP%]{top:10px;right:10px;width:35px;height:35px;font-size:1rem}}@media (max-width: 576px){.menu-modal-header[_ngcontent-%COMP%], .menu-modal-content[_ngcontent-%COMP%]{padding:1rem}.menu-item[_ngcontent-%COMP%]{padding:.75rem 0}.menu-item[_ngcontent-%COMP%]:hover{margin:0 -.5rem;padding:.75rem .5rem}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.menu-modal-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInUp .3s ease-out}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.menu-modal-open[_ngcontent-%COMP%]{overflow:hidden}.date-button-container[_ngcontent-%COMP%]{position:relative;cursor:pointer}.date-button-container.date-disabled[_ngcontent-%COMP%]{cursor:not-allowed}.date-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;border-radius:.375rem;z-index:5;pointer-events:none;transition:all .3s ease}.date-button-container[_ngcontent-%COMP%]:hover   .date-overlay[_ngcontent-%COMP%]{background-color:#000c}.date-overlay[_ngcontent-%COMP%]   .fas.fa-ban[_ngcontent-%COMP%]{color:#dc3545!important;filter:drop-shadow(0 2px 4px rgba(0,0,0,.3));animation:_ngcontent-%COMP%_pulse-ban 2s infinite}@keyframes _ngcontent-%COMP%_pulse-ban{0%,to{transform:scale(1);opacity:.8}50%{transform:scale(1.1);opacity:1}}.date-btn.disabled-date[_ngcontent-%COMP%]{opacity:.6;pointer-events:none;filter:grayscale(50%)}.date-button-container.date-disabled[_ngcontent-%COMP%]   .date-btn[_ngcontent-%COMP%]{cursor:not-allowed}.link-disabled[_ngcontent-%COMP%]{cursor:not-allowed;position:relative}.link-overlay[_ngcontent-%COMP%]{position:absolute;top:50%;left:-10px;transform:translateY(-50%);width:25px;height:25px;background-color:#000c;border-radius:50%;z-index:5;pointer-events:none}.link-overlay[_ngcontent-%COMP%]   .fas.fa-ban[_ngcontent-%COMP%]{color:#dc3545!important;filter:drop-shadow(0 1px 2px rgba(0,0,0,.3))}.disabled-link[_ngcontent-%COMP%]{opacity:.6;pointer-events:none;filter:grayscale(50%)}.tooltip[_ngcontent-%COMP%]{--bs-tooltip-bg: var(--bg-color);--bs-tooltip-color: var(--text-color);--bs-tooltip-border-color: var(--primary-color)}.tooltip[_ngcontent-%COMP%]   .tooltip-inner[_ngcontent-%COMP%]{background-color:var(--bg-color)!important;color:var(--text-color)!important;border:2px solid var(--primary-color)!important;border-radius:.5rem!important;padding:.75rem 1rem!important;font-size:.9rem!important;font-weight:500!important;box-shadow:0 4px 20px #00000026!important;max-width:250px!important}.tooltip[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:before{border-top-color:var(--primary-color)!important;border-bottom-color:var(--primary-color)!important}.tooltip[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_tooltipFadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_tooltipFadeIn{0%{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translateY(0)}}.date-button-container[_ngcontent-%COMP%]:not(.date-disabled)   .date-btn[_ngcontent-%COMP%]{transition:all .3s ease}.date-button-container[_ngcontent-%COMP%]:not(.date-disabled)   .date-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #28a7454d}.date-button-container[_ngcontent-%COMP%]:not(.date-disabled)   .date-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}@media (max-width: 768px){.date-overlay[_ngcontent-%COMP%]   .fas.fa-ban[_ngcontent-%COMP%]{font-size:1.5rem!important}.link-overlay[_ngcontent-%COMP%]{width:20px;height:20px;left:-8px}.link-overlay[_ngcontent-%COMP%]   .fas.fa-ban[_ngcontent-%COMP%]{font-size:.8rem!important}.tooltip[_ngcontent-%COMP%]   .tooltip-inner[_ngcontent-%COMP%]{font-size:.8rem!important;padding:.5rem .75rem!important;max-width:200px!important}}@media (max-width: 576px){.date-overlay[_ngcontent-%COMP%]   .fas.fa-ban[_ngcontent-%COMP%]{font-size:1.2rem!important}.link-overlay[_ngcontent-%COMP%]{width:18px;height:18px;left:-6px}.tooltip[_ngcontent-%COMP%]   .tooltip-inner[_ngcontent-%COMP%]{font-size:.75rem!important;padding:.4rem .6rem!important;max-width:180px!important}}.date-button-container.date-disabled[_ngcontent-%COMP%]:focus-within{outline:2px solid var(--primary-color);outline-offset:2px;border-radius:.375rem}.link-disabled[_ngcontent-%COMP%]:focus-within{outline:2px solid var(--primary-color);outline-offset:2px;border-radius:.25rem}.sr-only[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.date-button-container[_ngcontent-%COMP%]{transition:all .3s ease}.date-button-container.date-disabled[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_disabledState .5s ease-in-out}@keyframes _ngcontent-%COMP%_disabledState{0%{opacity:1;filter:grayscale(0%)}to{opacity:.6;filter:grayscale(50%)}}.date-overlay.loading[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:20px;height:20px;border:2px solid transparent;border-top:2px solid var(--primary-color);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:translate(-50%,-50%) rotate(0)}to{transform:translate(-50%,-50%) rotate(360deg)}}.swal-booking-modal[_ngcontent-%COMP%]{border-radius:1rem!important;box-shadow:0 20px 60px #0000004d!important;-webkit-backdrop-filter:blur(10px)!important;backdrop-filter:blur(10px)!important}.swal-booking-title[_ngcontent-%COMP%]{font-size:1.5rem!important;font-weight:600!important;margin-bottom:1rem!important}.swal-booking-content[_ngcontent-%COMP%]{padding:0 1rem!important}.swal-booking-content[_ngcontent-%COMP%]   .text-primary[_ngcontent-%COMP%]{color:var(--primary-color)!important}.swal-booking-confirm[_ngcontent-%COMP%]{background-color:var(--primary-color)!important;border:none!important;border-radius:.5rem!important;padding:.75rem 1.5rem!important;font-weight:600!important;transition:all .3s ease!important}.swal-booking-confirm[_ngcontent-%COMP%]:hover{background-color:var(--primary-dark)!important;transform:translateY(-1px)!important;box-shadow:0 4px 12px #28a7454d!important}.swal-booking-cancel[_ngcontent-%COMP%]{background-color:var(--bg-secondary)!important;border:1px solid var(--border-color)!important;color:var(--text-color)!important;border-radius:.5rem!important;padding:.75rem 1.5rem!important;font-weight:500!important;transition:all .3s ease!important}.swal-booking-cancel[_ngcontent-%COMP%]:hover{background-color:var(--bg-color)!important;border-color:var(--text-color)!important;transform:translateY(-1px)!important}.swal2-popup[_ngcontent-%COMP%]{background-color:var(--bg-color)!important;color:var(--text-color)!important}.swal2-title[_ngcontent-%COMP%], .swal2-html-container[_ngcontent-%COMP%]{color:var(--text-color)!important}@media (max-width: 768px){.swal-booking-modal[_ngcontent-%COMP%]{margin:1rem!important;max-width:calc(100vw - 2rem)!important}.swal-booking-title[_ngcontent-%COMP%]{font-size:1.3rem!important}.swal-booking-confirm[_ngcontent-%COMP%], .swal-booking-cancel[_ngcontent-%COMP%]{padding:.6rem 1.2rem!important;font-size:.9rem!important}}.animate__fadeInUp[_ngcontent-%COMP%]{animation-duration:.4s!important}.animate__fadeOutDown[_ngcontent-%COMP%]{animation-duration:.3s!important}.reviews-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#000000e6;z-index:9997;display:flex;align-items:center;justify-content:center;padding:20px;cursor:pointer}.reviews-modal-container[_ngcontent-%COMP%]{background-color:var(--bg-color);border:1px solid var(--border-color);border-radius:1rem;max-width:800px;width:100%;max-height:90vh;display:flex;flex-direction:column;cursor:default;box-shadow:0 20px 60px #0000004d;position:relative}.reviews-modal-close[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px;background:var(--bg-secondary);border:1px solid var(--border-color);color:var(--text-color);font-size:1.2rem;width:40px;height:40px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:10}.reviews-modal-close[_ngcontent-%COMP%]:hover{background:var(--primary-color);color:#fff}.reviews-modal-header[_ngcontent-%COMP%]{padding:2rem;border-bottom:1px solid var(--border-color);text-align:center}.reviews-modal-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:var(--text-color);margin-bottom:.5rem}.reviews-modal-subtitle[_ngcontent-%COMP%]{color:var(--text-muted);font-size:1rem;margin-bottom:0}.reviews-modal-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:1.5rem}.reviews-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.review-item[_ngcontent-%COMP%]{background-color:var(--bg-secondary);border:1px solid var(--border-color);border-radius:1rem;padding:1.5rem}.review-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.review-user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.review-avatar[_ngcontent-%COMP%]{color:var(--primary-color);font-size:2rem}.review-user-name[_ngcontent-%COMP%]{font-weight:700;color:var(--text-color);font-size:1.1rem}.review-date[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.9rem}.review-rating-badge[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff;padding:.5rem 1rem;border-radius:2rem;font-weight:700;font-size:.9rem}.review-text[_ngcontent-%COMP%]{color:var(--text-color);line-height:1.6;margin:0;padding:1rem;background-color:var(--bg-color);border-radius:.5rem;border-left:4px solid var(--primary-color)}.review-no-comment[_ngcontent-%COMP%]{color:var(--text-muted);font-style:italic;padding:.5rem 0}.empty-reviews-icon[_ngcontent-%COMP%]{font-size:4rem;opacity:.6;margin-bottom:1rem}.empty-reviews-title[_ngcontent-%COMP%]{color:var(--text-color);margin-bottom:1rem}.reviews-modal-open[_ngcontent-%COMP%]{overflow:hidden}@media (max-width: 768px){.reviews-modal-container[_ngcontent-%COMP%]{max-height:95vh}.reviews-modal-header[_ngcontent-%COMP%]{padding:1.5rem}.reviews-modal-content[_ngcontent-%COMP%], .review-item[_ngcontent-%COMP%]{padding:1rem}}']})};export{ue as RestaurantDetailComponent};
